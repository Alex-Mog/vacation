{"version":3,"sources":["components/rooms/subscribe/StripeSubscribeRoom.jsx","components/rooms/subscribe/PaypalButton.jsx","pages/Rooms/SubscribeRoom.jsx","shared/ScriptCache.js","services/rooms.jsx"],"names":["StripeSubscribeRoom","props","state","card_number","card_name","expire_year","expire_month","cvc","coupon_code","handleChange","bind","stripeSubmit","handleCardChange","e","name","target","value","this","setState","error","console","log","ev","preventDefault","stripe","createToken","token","onSubmit","createOptions","style","base","fontSize","color","letterSpacing","invalid","className","htmlFor","data-toggle","data-original-title","icon","faQuestionCircle","onChange","type","React","Component","injectStripe","PayPalButton","paypal","Button","driver","ReactDOM","PayPalCheckout","subscriptiontype","planId","subscribe_success","payment","onAuthorize","data","actions","self","headers","getAuthHeader","request","post","API_HOST","orderID","room_id","then","response","paymentSuccess","roomId","Promise","resolve","reject","env","client","sandbox","production","commit","TAB_MENU","SubscribeRoom","listings","plan_type","plan_types","result","publish_listings","match","params","default_listing_fee","additional_fee","isLoading","is_redirect","strip_api_loaded","tab_state","handleSelectListing","handleChangeMembership","SuccessPaypalSubscribe","window","requestAnimationFrame","ScriptCache","onLoad","roomsService","getPublishListing","res","alertService","showError","catch","listing_id","listing_index","indexOf","map","listing","index","id","status","splice","event","listingId","push","membership_type","req","setSubscribeProperty","showSuccess","location","href","message","total_price","to","loading","bgColor","spinnerColor","textColor","children","logoSrc","text","undefined","length","current_room_membership","key","src","featured_image","alt","plan","Name","other_room_membership","membership_content","membership","membership_index","count_membership","iiii","Number","annual_fee","total_price_list","tab_nav","role","onClick","viewBox","version","preserveAspectRatio","d","x","y","tab_pane_stripe","fallback","card_data","tab_pane_paypal","includes","parseFloat","tab_pane_bank","apiKey","STRIPE_KEY","scripts","loaded","failed","pending","load","success","cb_success","cb_reject","forEach","loadSrc","scriptTag","cb","body","document","getElementsByTagName","tag","createElement","async","addEventListener","evt","appendChild","ajaxPost","ajaxGet","bedroom_data","bedroom_id","bedid","bathroom_data","bathroom_id","bathid","price_data","JSON","stringify","rooms_data","season_name","year_fr","year_to","import_data","price_rule"],"mappings":"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","file":"static/js/34.bb181ac0.chunk.js","sourcesContent":["import React from 'react';\r\nimport {\r\n  CardNumberElement,\r\n  CardExpiryElement,\r\n  CardCVCElement,\r\n  injectStripe,\r\n} from 'react-stripe-elements';\r\nimport 'react-credit-cards/es/styles-compiled.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass StripeSubscribeRoom extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      card_number: \"\",\r\n      card_name: \"\",\r\n      expire_year: \"\",\r\n      expire_month: \"\",\r\n      cvc: \"\",\r\n      coupon_code: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.stripeSubmit = this.stripeSubmit.bind(this);\r\n    this.handleCardChange = this.handleCardChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleCardChange(e, error) {\r\n    console.log(e, error);\r\n  }\r\n\r\n  async stripeSubmit(ev) {\r\n    ev.preventDefault();\r\n    let { token } = await this.props.stripe.createToken({ name: \"Name\" });\r\n    this.props.onSubmit(token, this.state.coupon_code);\r\n  }\r\n\r\n  render() {\r\n    const createOptions = {\r\n      style: {\r\n        base: {\r\n          fontSize: \"16px\",\r\n          color: \"#424770\",\r\n          letterSpacing: \"0.025em\",\r\n          \"::placeholder\": {\r\n            color: \"#aab7c4\"\r\n          }\r\n        },\r\n        invalid: {\r\n          color: \"#c23d4b\"\r\n        }\r\n      }\r\n    };\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.stripeSubmit}>\r\n          {/* <CardElement /> */}\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"cardNumber\">Card number</label>\r\n            <CardNumberElement {...createOptions} />\r\n          </div>\r\n          {/* form-group.// */}\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-8\">\r\n              <div className=\"form-group\">\r\n                <label>\r\n                  <span className=\"hidden-xs\">Expiration</span>{\" \"}\r\n                </label>\r\n                <CardExpiryElement {...createOptions} />\r\n              </div>\r\n            </div>\r\n            <div className=\"col-sm-4\">\r\n              <div className=\"form-group\">\r\n                <label\r\n                  data-toggle=\"tooltip\"\r\n                  data-original-title=\"3 digits code on back side of the card\"\r\n                >\r\n                  <span> CVV </span>\r\n                  <FontAwesomeIcon icon={faQuestionCircle} />\r\n                </label>\r\n                <CardCVCElement {...createOptions} />\r\n              </div>{\" \"}\r\n              {/* form-group.// */}\r\n            </div>\r\n          </div>{\" \"}\r\n          {/* row.// */}\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12\">\r\n              <div className=\"form-group\">\r\n                <label\r\n                  data-toggle=\"tooltip\"\r\n                  data-original-title=\"3 digits code on back side of the card\"\r\n                >\r\n                  Do you have a coupon code? If so, please enter it here.{\" \"}\r\n                </label>\r\n                <input\r\n                  name=\"coupon_code\"\r\n                  onChange={this.handleChange}\r\n                  className=\"form-control col-md-6 col-sm-6 coupon_code border\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button className=\"subscribe btn btn-primary btn-block\" type=\"submit\">\r\n            {\" \"}\r\n            Confirm\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default injectStripe(StripeSubscribeRoom);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport paypal from 'paypal-checkout';\r\n\r\nimport { getAuthHeader, API_HOST } from 'services/config';\r\n\r\nconst PayPalButton = paypal.Button.driver(\"react\", { React, ReactDOM });\r\n\r\nexport default class PayPalCheckout extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      subscriptiontype: this.props.planId,\r\n      subscribe_success: false\r\n    };\r\n    this.payment = this.payment.bind(this);\r\n    this.onAuthorize = this.onAuthorize.bind(this);\r\n  }\r\n\r\n  onAuthorize(data, actions) {\r\n    let self = this;\r\n    const headers = getAuthHeader();\r\n\r\n    return paypal.request\r\n      .post(\r\n        API_HOST + \"/ajax/paypal/subscribe/excute?token=\" + data.orderID + \"&planId=\" + this.props.planId + \"&roomId=\" + this.props.room_id,\r\n        { token: data.orderID },\r\n        {\r\n          headers: {...headers,\r\n          }\r\n        }\r\n      )\r\n      .then(function(response) {\r\n        self.props.paymentSuccess();\r\n        return response;\r\n      });\r\n  }\r\n\r\n  payment() {\r\n    let planId = this.props.planId;\r\n    let roomId = this.props.room_id;\r\n    const headers = getAuthHeader();\r\n    return new paypal.Promise(function(resolve, reject) {\r\n      return paypal.request\r\n        .post(\r\n          API_HOST + \"/ajax/rooms/post_subscribe_property_paypal/create_plan\",\r\n          {roomId: roomId, planId: planId},\r\n          {\r\n            headers: {...headers,\r\n            }\r\n          }\r\n        )\r\n        .then(function(response) {\r\n          resolve(response);\r\n        });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const client = {\r\n      sandbox:\r\n        \"Af-PimPKghDsdMCwvPPjQYnsjNBv_jbxBRfWjXeFmWxCmlmXSUCOjwBAU-GOsPJHC5g0KHECJuPwqEqv\",\r\n      production:\r\n        \"EBXItHpMuh_Yn0rcNWscu7i1RFYg2z_q5iy1nLFtL6dUiKyr2f9yrkMfRvhp0CxySoiRwa6CRrH2zKVp\"\r\n    };\r\n\r\n    return (\r\n      <PayPalButton\r\n        env={\"sandbox\"}\r\n        client={client}\r\n        payment={this.payment}\r\n        commit={true} // Optional: show a 'Pay Now' button in the checkout flow\r\n        onAuthorize={this.onAuthorize}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport LoadingScreen from 'react-loading-screen';\r\nimport { Elements, StripeProvider } from 'react-stripe-elements';\r\n\r\nimport ScriptCache from 'shared/ScriptCache';\r\nimport { roomsService } from 'services/rooms';\r\nimport { alertService } from 'services/alert';\r\nimport { STRIPE_KEY } from 'services/config';\r\nimport 'assets/styles/rooms/room_subscribe.scss';\r\n\r\nimport StripeSubscribeRoom from 'components/rooms/subscribe/StripeSubscribeRoom';\r\nimport PayPalCheckout from 'components/rooms/subscribe/PaypalButton';\r\n\r\n// let ReactScriptLoaderMixin = require('react-script-loader').ReactScriptLoaderMixin;\r\nconst TAB_MENU = ['Stripe, PayPal', 'Bank'];\r\n\r\nclass SubscribeRoom extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      listings: [],\r\n      plan_type: {},\r\n      plan_types: [],\r\n      result: {},\r\n      publish_listings: [], //[parseFloat(this.props.match.params.room_id)],\r\n      room_id: this.props.match.params.room_id,\r\n      default_listing_fee: null,\r\n      additional_fee: null,\r\n      isLoading : true ,\r\n      is_redirect : false,\r\n      strip_api_loaded: false,\r\n      tab_state: TAB_MENU[0],\r\n    }\r\n    this.handleSelectListing = this.handleSelectListing.bind(this)\r\n    this.onSubmit = this.onSubmit.bind(this)\r\n    this.handleChangeMembership = this.handleChangeMembership.bind(this)\r\n    this.SuccessPaypalSubscribe = this.SuccessPaypalSubscribe.bind(this)\r\n  }\r\n  componentDidMount() {\r\n    window.requestAnimationFrame( () => {\r\n\t\t\tnew ScriptCache([`https://js.stripe.com/v3/`]).onLoad( ()=> {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstrip_api_loaded: true,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\troomsService.getPublishListing(this.props.match.params.room_id)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tlistings: res.listings,\r\n\t\t\t\t\t\tplan_types: res.plan_types,\r\n\t\t\t\t\t\tresult: res.result,\r\n\t\t\t\t\t\troom_id: res.room_id,\r\n\t\t\t\t\t\tisLoading : false\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\talertService.showError('Get publish listing');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\talertService.showError('Get publish listing');\r\n\t\t\t})\r\n\t\t});\r\n  }\r\n\r\n  SuccessPaypalSubscribe(listing_id) {\r\n    let listings = this.state.listings\r\n    let publish_listings = this.state.publish_listings;\r\n    let listing_index = publish_listings.indexOf(listing_id);\r\n\r\n    listings.map((listing, index) => {\r\n      if (listing.id === listing_id) {\r\n        listings[index].status = 'Subscribed';\r\n      }\r\n\t\t\treturn null;\r\n    })\r\n\r\n    if (listing_index !== -1) {\r\n      publish_listings.splice(listing_index, 1)\r\n    }\r\n\r\n    this.setState({\r\n      listings : listings,\r\n      publish_listings : publish_listings\r\n    })\r\n  }\r\n\r\n  handleSelectListing(event, listingId) {\r\n    let { publish_listings } = this.state;\r\n    let listing_index = publish_listings.indexOf(listingId);\r\n\r\n    if (listing_index !== -1) {\r\n      publish_listings.splice(listing_index, 1)\r\n    } else {\r\n      publish_listings.push(listingId)\r\n    }\r\n    this.setState({\r\n      publish_listings: publish_listings\r\n    })\r\n  }\r\n\r\n  handleChangeMembership(listing_index, listing_id, event) {\r\n    let value = event.target.value;\r\n    let { listings } = this.state;\r\n    listings[listing_index].membership_type = value;\r\n\r\n    this.setState({\r\n      listings: listings\r\n    })\r\n  }\r\n  onSubmit(token, coupon_code) { \r\n    console.log('token => ', token, 'coupon=>', coupon_code);\r\n    if (token) {\r\n      let listings  = this.state.listings.map((listing) => {\r\n        if (listing.status !== 'Subscribed') return listing;\r\n\t\t\t\treturn null;\r\n      });\r\n\t\t\tlet req = {\r\n\t\t\t\ttoken: token,\r\n\t\t\t\tcoupon_code: coupon_code,\r\n\t\t\t\tlistings: listings,\r\n\t\t\t\tpublish_listings: this.state.publish_listings\r\n\t\t\t};\r\n\t\t\troomsService.setSubscribeProperty(this.props.match.params.room_id, req).then(res => {\r\n\t\t\t\tif (res && res.status === 'success') {\r\n\t\t\t\t\talertService.showSuccess('Subscribed successfully!', '');\r\n\t\t\t\t\twindow.location.href = '/dashboard/room-listing';\r\n\t\t\t\t} else {\r\n\t\t\t\t\talertService.showError(res.message, '');\r\n\t\t\t\t}\r\n\t\t\t});\r\n    } else {\r\n      alertService.showError('Cannot generate token!', '');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let total_price = 0;\r\n    if(this.state.is_redirect) {\r\n      return <Redirect to='/dashboard/room-listing'/>;\r\n    }\r\n    \r\n    if (this.state.isLoading) {\r\n      return(\r\n        <LoadingScreen\r\n          loading={true}\r\n          bgColor='#f1f1f1'\r\n          spinnerColor='#9ee5f8'\r\n          textColor='#676767'\r\n\t\t\t\t\tchildren=''\r\n          logoSrc='https://cdn2.iconfinder.com/data/icons/large-svg-icons-part-2/512/real_estate_vector_symbol-512.png'\r\n          text='Payment Initializing! Please wait a few seconds.'\r\n        >\r\n        </LoadingScreen>\r\n      )\r\n    } else if (this.state.listings === undefined || this.state.listings.length === 0) {\r\n      return (\r\n        <div className='container mt-5 p-5'>\r\n          <h4>No rooms to publish!</h4>\r\n        </div>\r\n      )\r\n    } else {\r\n\t\t\tconst current_room_membership = (\r\n\t\t\t\tthis.state.listings.map((listing, listing_index) => {\r\n\t\t\t\t\tif (listing.id === this.props.match.params.room_id && listing.status !== 'Subscribed') {\r\n\t\t\t\t\t\treturn <div className=\"row listing_item pb-3\" key={listing_index}>\r\n\t\t\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t<Link to=\"#\">\r\n\t\t\t\t\t\t\t\t\t<img className=\"img-fluid rounded mb-3 mb-md-0\" src={listing.featured_image} alt=\"Feature\"/>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"listing_detail ml-0\">{listing.name}</h3>\r\n\t\t\t\t\t\t\t\t<h3 className=\"listing_detail ml-0\">ID:{listing.id}</h3>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group row\">\r\n\t\t\t\t\t\t\t\t\t<label className=\"col-md-4 text-white\">Membership:</label>\r\n\t\t\t\t\t\t\t\t\t<select className=\"col-md-8 p-0 pl-2 bg-primary text-white\" value={listing.membership_type} onChange={(e) => { this.handleChangeMembership(listing_index, listing.id, e) }} >\r\n\t\t\t\t\t\t\t\t\t\t<option value={0}>Please Select</option>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.plan_types.map((plan, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={plan.id}>{plan.Name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Link className=\"redirect_to_listing\" to=\"#\">Manage Listing</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconst other_room_membership = (\r\n\t\t\t\tthis.state.listings.map((listing, listing_index) => {\r\n\t\t\t\t\tif (listing.id !== this.props.match.params.room_id  && listing.status !== 'Subscribed') {\r\n\t\t\t\t\t\treturn <div className=\"row listing_item mt-3 pb-3\" key={listing_index}>\r\n\t\t\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t<Link to=\"#\">\r\n\t\t\t\t\t\t\t\t\t<img className=\"img-fluid rounded mb-3 mb-md-0\" src={listing.featured_image} alt=\"Feature\"/>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-8\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"listing_detail ml-0\">{listing.name}</h3>\r\n\t\t\t\t\t\t\t\t<h3 className=\"listing_detail ml-0\">ID:{listing.id}</h3>\r\n\t\t\t\t\t\t\t\t<div className=\"form-group row\">\r\n\t\t\t\t\t\t\t\t\t<label className=\"col-md-4 text-white\">Membership:</label>\r\n\t\t\t\t\t\t\t\t\t<select className=\"col-md-8 p-0 pl-2 bg-primary text-white\" value={listing.membership_type} onChange={(e) => { this.handleChangeMembership(listing_index, listing.id, e) }} >\r\n\t\t\t\t\t\t\t\t\t\t<option value={0}>Please Select</option>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.plan_types.map((plan, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={plan.id}>{plan.Name}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"custom-control custom-checkbox mb-3\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" className=\"custom-control-input\" id={\"listing_checkbox_\" + listing_index} name=\"example1\" onChange={(e) => this.handleSelectListing(e, listing.id)} />\r\n\t\t\t\t\t\t\t\t\t<label className=\"custom-control-label listing_detail  p-1\" htmlFor={\"listing_checkbox_\" + listing_index}>Do you want to publish this listing?</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Link className=\"redirect_to_listing\" to=\"#\">Manage Listing</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconst membership_content = (\r\n\t\t\t\tthis.state.plan_types.map((membership, membership_index) => {\r\n\t\t\t\t\tlet count_membership = 0;\r\n\t\t\t\t\tfor (let iiii = 0; iiii < this.state.listings.length; iiii++) {\r\n\t\t\t\t\t\tif (\r\n                 Number(this.state.listings[iiii].membership_type) === membership.id\r\n              && this.state.publish_listings.indexOf(this.state.listings[iiii].id) !== -1\r\n              && this.state.listings[iiii].status !== 'Subscribed'\r\n            ) {\r\n\t\t\t\t\t\t\tcount_membership++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (count_membership) {\r\n\t\t\t\t\t\ttotal_price += membership.annual_fee * count_membership\r\n\t\t\t\t\t\treturn <div className=\"row listing_item mt-3 pb-3\" key={membership_index}>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 listing_detail\">{membership.Name}</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-3 listing_detail\">${membership.annual_fee} × {count_membership} </div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-3 listing_detail\">${membership.annual_fee * count_membership} </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tconst total_price_list = (\r\n\t\t\t\t<div className=\"row listing_item mt-3 pb-3\"  >\r\n\t\t\t\t\t<div className=\"col-md-6 col-sm-4 listing_detail\">Total</div>\r\n\t\t\t\t\t<div className=\"col-md-3 col-sm-4 listing_detail\"></div>\r\n\t\t\t\t\t<div className=\"col-md-3 col-sm-4 listing_detail\">${total_price}</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n      const tab_nav = (\r\n        <ul className=\"nav bg-light nav-pills rounded nav-fill mb-3\" role=\"tablist\">\r\n          <li className=\"nav-item\">\r\n            <div \r\n              className={ this.state.tab_state === TAB_MENU[0] ? \"nav-link active show\" : \"nav-link\" }\r\n              onClick={() => this.setState({tab_state: TAB_MENU[0]})}\r\n            >\r\n              <svg className=\"stripe-icon\" viewBox=\"0 0 56.48 56.48\" version=\"1.1\" preserveAspectRatio=\"xMidYMid\">\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M36.782,27.008c-0.061-0.457-0.35-0.603-0.793-0.473c-0.103,0.03-0.202,0.074-0.306,0.107\r\n                      c-0.182,0.056-0.252,0.161-0.25,0.366c0.011,1.169,0.005,2.341,0.005,3.513c0,0.205,0,0.41,0,0.605\r\n                      c0.721,0.264,1.146,0.065,1.295-0.654C36.97,29.325,36.935,28.164,36.782,27.008z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M55.026,9.939H1.454C0.65,9.939,0,10.59,0,11.393v33.694c0,0.803,0.65,1.455,1.454,1.455h53.572\r\n                      c0.804,0,1.454-0.651,1.454-1.454V11.393C56.48,10.591,55.83,9.939,55.026,9.939z M14.008,30.844\r\n                      c-0.171,1.633-1.086,2.487-2.73,2.637c-1.067,0.098-2.101-0.043-3.122-0.331c-0.088-0.024-0.216-0.134-0.217-0.206\r\n                      c-0.016-0.719-0.01-1.436-0.01-2.184c0.52,0.11,1.011,0.233,1.51,0.309c0.308,0.048,0.632,0.065,0.938,0.018\r\n                      c0.16-0.022,0.352-0.181,0.43-0.328c0.108-0.207,0.008-0.439-0.193-0.565c-0.265-0.166-0.554-0.295-0.83-0.444\r\n                      c-0.32-0.173-0.655-0.324-0.95-0.533c-0.582-0.41-0.921-0.984-1.014-1.698c-0.009-0.066-0.035-0.131-0.054-0.196\r\n                      c0-0.178,0-0.354,0-0.532c0.048-0.238,0.08-0.482,0.146-0.715c0.31-1.107,1.121-1.652,2.184-1.869\r\n                      c1.132-0.23,2.251-0.131,3.351,0.223c0.176,0.057,0.245,0.138,0.241,0.331c-0.013,0.669-0.005,1.338-0.005,1.998\r\n                      c-0.56-0.102-1.099-0.21-1.642-0.292c-0.22-0.032-0.462-0.048-0.672,0.009c-0.152,0.04-0.358,0.199-0.379,0.331\r\n                      c-0.024,0.156,0.079,0.398,0.208,0.497c0.238,0.183,0.536,0.284,0.805,0.428c0.347,0.182,0.714,0.343,1.028,0.572\r\n                      C13.894,28.935,14.115,29.844,14.008,30.844z M18.84,30.526c0.048,0.402,0.197,0.539,0.603,0.515\r\n                      c0.353-0.02,0.703-0.074,1.088-0.117c0,0.777,0,1.524,0,2.308c-1.118,0.206-2.238,0.444-3.378,0.168\r\n                      c-1.007-0.244-1.562-1.07-1.575-2.32c-0.015-1.468-0.005-2.937-0.005-4.405c0-0.106,0-0.21,0-0.339c-0.402,0-0.774,0-1.17,0\r\n                      c0-0.694,0-1.368,0-2.07c0.379,0,0.759,0,1.166,0c0.123-0.607,0.249-1.191,0.354-1.779c0.035-0.198,0.102-0.305,0.314-0.352\r\n                      c0.853-0.191,1.7-0.405,2.583-0.617c0,0.915,0,1.805,0,2.729c0.584,0,1.141,0,1.727,0c-0.146,0.71-0.285,1.382-0.428,2.076\r\n                      c-0.421,0-0.832,0-1.272,0c-0.007,0.117-0.017,0.211-0.017,0.305c-0.001,1.202,0,2.404,0,3.606\r\n                      C18.83,30.333,18.829,30.432,18.84,30.526z M26.765,26.952c-0.361-0.045-0.682-0.094-1.004-0.123\r\n                      c-0.165-0.013-0.335-0.002-0.5,0.019c-0.675,0.088-0.766,0.194-0.766,0.859c0,1.764,0,3.527,0,5.291c0,0.106,0,0.212,0,0.335\r\n                      c-1.089,0-2.149,0-3.233,0c0-3.01,0-6.019,0-9.054c0.066-0.007,0.14-0.022,0.214-0.022c0.7-0.002,1.399,0.005,2.099-0.006\r\n                      c0.183-0.003,0.288,0.054,0.366,0.22c0.1,0.213,0.225,0.413,0.344,0.626c0.598-0.948,1.2-1.19,2.216-0.919\r\n                      c0.191,0.05,0.274,0.125,0.271,0.337C26.76,25.322,26.767,26.129,26.765,26.952z M30.782,33.34c-1.077,0-2.137,0-3.221,0\r\n                      c0-3.039,0-6.048,0-9.07c1.08,0,2.14,0,3.221,0C30.782,27.292,30.782,30.31,30.782,33.34z M29.189,23.15c-0.002,0-0.004,0-0.004,0\r\n                      c-0.131,0.002-0.265-0.015-0.396-0.048c-0.29-0.073-0.543-0.219-0.741-0.414c-0.307-0.298-0.498-0.715-0.498-1.176\r\n                      c0-0.82,0.603-1.5,1.39-1.619c0.02-0.008,0.039-0.014,0.059-0.02c0.118,0,0.237,0,0.355,0c0.007,0.004,0.015,0.007,0.023,0.012\r\n                      c0.816,0.093,1.45,0.785,1.45,1.627C30.827,22.416,30.094,23.148,29.189,23.15z M39.882,31.075\r\n                      c-0.017,0.066-0.037,0.133-0.057,0.198c-0.466,1.503-1.409,2.224-2.98,2.239c-0.457,0.006-0.916-0.08-1.399-0.127\r\n                      c0,1.062,0,2.142,0,3.223c-1.085,0-2.169,0-3.253,0c-0.006-0.098-0.012-0.196-0.012-0.295c0-3.902,0-7.805,0-11.707\r\n                      c0-0.106,0-0.212,0-0.351c0.541,0,1.051,0,1.561,0c0.079,0,0.157,0.006,0.236-0.001c0.525-0.042,1.037-0.054,1.277,0.578\r\n                      c0.118-0.082,0.197-0.134,0.275-0.189c0.841-0.59,1.765-0.685,2.734-0.418c0.629,0.174,1.041,0.613,1.322,1.187\r\n                      c0.307,0.629,0.436,1.305,0.496,1.994C40.189,28.638,40.197,29.866,39.882,31.075z M45.06,31.01\r\n                      c0.779,0.121,1.547-0.041,2.314-0.168c0.259-0.043,0.519-0.093,0.82-0.146c0,0.571,0,1.121,0,1.668c0,0.717,0,0.716-0.696,0.892\r\n                      c-1.21,0.302-2.428,0.358-3.657,0.112c-1.379-0.276-2.226-1.128-2.58-2.46c-0.369-1.387-0.371-2.793,0.008-4.177\r\n                      c0.466-1.701,1.606-2.55,3.509-2.635c0.974-0.043,1.911,0.101,2.667,0.804c0.621,0.576,0.938,1.324,1.047,2.134\r\n                      c0.125,0.923,0.149,1.861,0.221,2.845c-1.543,0-2.989,0-4.427,0C44.2,30.518,44.467,30.919,45.06,31.01z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M45.476,26.416c-0.091-0.442-0.632-0.533-0.927-0.19c-0.092,0.107-0.17,0.254-0.188,0.392\r\n                      c-0.062,0.483-0.096,0.971-0.141,1.478c0.492,0,0.92,0,1.449,0C45.607,27.518,45.589,26.956,45.476,26.416z\"/>\r\n                  </g>\r\n                </g>\r\n              </svg>\r\n              <span>Stripe</span>\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <div \r\n              className={ this.state.tab_state === TAB_MENU[1] ? \"nav-link active show\" : \"nav-link\" }\r\n              data-toggle=\"pill\"\r\n              onClick={() => this.setState({tab_state: TAB_MENU[1]})}\r\n            >\r\n              {/* <i className=\"fa fa-cc-paypal\" />  */}\r\n              <svg className=\"paypal-icon\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.48 56.48\">\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M12.121,24.861c-0.229-0.15-0.57-0.226-1.018-0.226l-0.383,0.002c-0.251-0.002-0.508,0.2-0.557,0.444l-0.353,1.52\r\n                      c-0.055,0.246,0.102,0.447,0.356,0.447h0.286c0.635,0,1.127-0.129,1.48-0.389c0.353-0.258,0.534-0.625,0.526-1.1\r\n                      C12.46,25.245,12.347,25.01,12.121,24.861z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M18.371,28.364c-0.069,0.002-0.598,0.062-0.866,0.095c-0.3,0.043-0.56,0.103-0.771,0.174l-0.496,0.338\r\n                      c-0.116,0.146-0.171,0.332-0.171,0.571l0.226,0.438c0.153,0.086,0.379,0.128,0.667,0.128c0.19,0,0.396-0.046,0.612-0.134\r\n                      l0.46-0.237l0.182-0.242c0.072-0.282,0.221-0.909,0.238-0.987L18.371,28.364z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M55.026,9.939H1.454C0.65,9.939,0,10.59,0,11.393v33.694c0,0.803,0.65,1.455,1.454,1.455h53.572\r\n                      c0.804,0,1.454-0.651,1.454-1.454V11.393C56.48,10.59,55.83,9.939,55.026,9.939z M13.484,27.695\r\n                      c-0.796,0.586-1.904,0.878-3.336,0.88H9.814c-0.257,0-0.508,0.202-0.561,0.444l-0.402,1.738c-0.057,0.248-0.308,0.446-0.562,0.446\r\n                      h-1.17c-0.254,0-0.413-0.204-0.353-0.446l1.645-7.163c0.06-0.246,0.309-0.443,0.563-0.447l2.444-0.001\r\n                      c0.528,0.005,0.985,0.037,1.381,0.109c0.39,0.074,0.73,0.198,1.018,0.374c0.276,0.174,0.499,0.407,0.639,0.689\r\n                      c0.156,0.282,0.225,0.635,0.225,1.055C14.681,26.333,14.286,27.109,13.484,27.695z M20.746,26.781l-0.044,0.301l-0.854,3.692\r\n                      c-0.05,0.222-0.27,0.411-0.503,0.438l-0.016,0.006H19.16h-0.898h-0.021l-0.004-0.004c-0.223-0.021-0.361-0.21-0.313-0.438v-0.002\r\n                      l0.002-0.007l0.044-0.188l-0.006-0.007l-0.441,0.291l-0.48,0.268l-0.566,0.194c-0.174,0.042-0.419,0.067-0.735,0.067\r\n                      c-0.499,0-0.917-0.137-1.233-0.42c-0.314-0.289-0.476-0.658-0.476-1.11c0-0.48,0.111-0.886,0.334-1.224\r\n                      c0.231-0.336,0.561-0.598,1.007-0.794c0.415-0.189,0.914-0.329,1.484-0.408c0.582-0.084,1.062-0.145,1.727-0.187l0.168-0.104\r\n                      l0.021-0.165c0-0.254-0.118-0.429-0.353-0.532c-0.238-0.1-0.596-0.15-1.064-0.15c-0.318-0.004-0.718,0.061-1.097,0.147\r\n                      c-0.397,0.09-0.506,0.149-0.7,0.207c-0.09,0.031-0.307,0.046-0.226-0.33l0.143-0.589c0,0,0.07-0.445,0.515-0.542\r\n                      c0.215-0.048,0.249-0.057,0.6-0.111c0.475-0.073,0.945-0.11,1.416-0.11c0.953,0,1.651,0.124,2.092,0.373\r\n                      c0.443,0.248,0.669,0.636,0.667,1.157L20.746,26.781z M22.627,34.055l-1.212,0.002c-0.252,0-0.335-0.2-0.181-0.446l1.037-1.808\r\n                      c0,0,0.083-0.103,0.009-0.693c-0.16-1.066-0.956-5.598-0.956-5.598c-0.058-0.245,0.098-0.446,0.35-0.446l1.049-0.002\r\n                      c0.321,0,0.579,0.211,0.637,0.459l0.522,3.143l0.194,0.002c0.163-0.289,1.839-3.165,1.839-3.165\r\n                      c0.16-0.242,0.484-0.447,0.736-0.447c0,0,1.127,0.003,1.404,0c0.416-0.006-0.032,0.668-0.032,0.668l-4.664,7.887\r\n                      C23.209,33.857,22.877,34.055,22.627,34.055z M34.744,27.726c-0.799,0.583-1.912,0.878-3.344,0.878h-0.334\r\n                      c-0.252-0.004-0.504,0.201-0.562,0.443l-0.396,1.741c-0.058,0.243-0.314,0.443-0.562,0.44l-1.173,0.003\r\n                      c-0.249,0.001-0.413-0.201-0.353-0.444l1.646-7.167c0.06-0.243,0.306-0.441,0.56-0.445l2.447-0.002\r\n                      c0.525,0.002,0.987,0.039,1.375,0.108c0.395,0.072,0.735,0.196,1.019,0.373c0.279,0.179,0.498,0.408,0.644,0.692\r\n                      c0.15,0.28,0.223,0.634,0.225,1.054C35.936,26.359,35.535,27.133,34.744,27.726z M42.002,26.786l-0.043,0.303l-0.856,3.689\r\n                      c-0.048,0.223-0.269,0.412-0.499,0.44l-0.016,0.006H40.42c-0.242,0-0.752,0-0.899,0H39.5l-0.002-0.006\r\n                      c-0.227-0.021-0.367-0.209-0.312-0.438l-0.002-0.003l0.005-0.004l0.039-0.188l-0.007-0.009l-0.438,0.295L38.3,31.138l-0.565,0.191\r\n                      c-0.174,0.045-0.42,0.064-0.733,0.069c-0.5,0-0.914-0.142-1.232-0.423c-0.316-0.286-0.479-0.657-0.479-1.111\r\n                      c0-0.477,0.111-0.885,0.335-1.221c0.229-0.336,0.564-0.597,1.006-0.795c0.418-0.19,0.92-0.328,1.487-0.408\r\n                      c0.578-0.084,1.058-0.145,1.728-0.186l0.168-0.106l0.018-0.165c0-0.252-0.116-0.429-0.354-0.531\r\n                      c-0.238-0.101-0.596-0.151-1.062-0.151c-0.32-0.002-0.721,0.062-1.099,0.147c-0.395,0.092-0.502,0.149-0.695,0.207\r\n                      c-0.098,0.029-0.309,0.046-0.229-0.33l0.143-0.588c0,0,0.067-0.446,0.514-0.542c0.217-0.047,0.252-0.058,0.602-0.109\r\n                      c0.472-0.076,0.945-0.113,1.416-0.113c0.949,0,1.646,0.126,2.091,0.375c0.446,0.248,0.669,0.634,0.669,1.155L42.002,26.786z\r\n                      M45.752,23.679l-1.568,7.101l-0.055,0.084c-0.093,0.2-0.291,0.362-0.506,0.362h-1.088l-0.02-0.025\r\n                      c-0.207-0.032-0.342-0.199-0.293-0.417l-0.002-0.005l0.047-0.205l1.466-6.662l0.052-0.232l0.059-0.091\r\n                      c0.095-0.196,0.289-0.355,0.504-0.355h1.047c0.255,0,0.408,0.199,0.354,0.443L45.752,23.679z M47.83,22.911h-0.392v0.521\r\n                      l0.003,0.14l0.027,0.094l0.062,0.06l0.12,0.019l0.098-0.014l0.073-0.022h0.009v0.171l-0.117,0.023l-0.111,0.009l-0.266-0.095\r\n                      l-0.091-0.3v-0.606h-0.132v-0.162h0.132v-0.325h0.193v0.325h0.392V22.911z M49.725,23.15v0.737h-0.189v-0.65l-0.012-0.139\r\n                      l-0.025-0.11l-0.066-0.065L49.306,22.9l-0.159,0.041l-0.163,0.103l0.003,0.056l0.002,0.06v0.729h-0.19v-0.65l-0.008-0.141\r\n                      l-0.027-0.109L48.7,22.924l-0.129-0.023l-0.157,0.039l-0.159,0.099v0.85h-0.188V22.75h0.188v0.127l0.182-0.116l0.188-0.042\r\n                      l0.198,0.047l0.122,0.136l0.21-0.141l0.205-0.042l0.277,0.113l0.09,0.318H49.725z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M39.628,28.37c-0.069-0.001-0.596,0.061-0.86,0.095c-0.303,0.043-0.562,0.102-0.771,0.174\r\n                      c-0.214,0.084-0.388,0.197-0.501,0.338c-0.112,0.146-0.168,0.332-0.168,0.572l0.229,0.437c0.146,0.087,0.369,0.129,0.666,0.129\r\n                      c0.187,0,0.393-0.046,0.608-0.133l0.457-0.237l0.188-0.242c0.07-0.285,0.222-0.91,0.234-0.988L39.628,28.37z\"/>\r\n                  </g>\r\n                </g>\r\n                <g>\r\n                  <g>\r\n                    <path d=\"M33.372,24.888c-0.231-0.151-0.567-0.225-1.016-0.227l-0.381,0.002c-0.252-0.002-0.508,0.202-0.56,0.445l-0.354,1.519\r\n                      c-0.057,0.244,0.106,0.448,0.359,0.446h0.291c0.633,0,1.124-0.13,1.478-0.384c0.35-0.261,0.528-0.625,0.526-1.104\r\n                      C33.709,25.273,33.6,25.038,33.372,24.888z\"/>\r\n                  </g>\r\n                </g>\r\n              </svg>\r\n              Paypal\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      )\r\n      const tab_pane_stripe = (\r\n        <div className={ this.state.tab_state === TAB_MENU[0] ? \"tab-pane active show\" : \"tab-pane\"} id=\"nav-tab-card\">\r\n          {this.state.strip_api_loaded && \r\n            <Suspense fallback={<div>Loading...</div>}>\r\n              <Elements>\r\n                <StripeSubscribeRoom room_id={this.props.match.params.room_id} onSubmit={(token, card_data) => this.onSubmit(token, card_data)}/>\r\n              </Elements>\r\n            </Suspense>\r\n          }\r\n        </div>\r\n      );\r\n      const tab_pane_paypal = (\r\n        <div className={ this.state.tab_state === TAB_MENU[1] ? \"tab-pane active show\" : \"tab-pane\" } id=\"nav-tab-paypal\">\r\n          <p>Paypal subscribe!</p>\r\n          {\r\n            this.state.listings.map((listing, index) => {\r\n              return (\r\n                listing.status !== 'Subscribed'\r\n                && this.state.publish_listings.includes(listing.id)\r\n                && listing.membership_type\r\n                && listing.membership_type !== '0'\r\n                && listing.id === Number(this.props.match.params.room_id)\r\n                ? ( \r\n                    <div className='mt-4' key={index} >\r\n                      <h5>{listing.name}</h5>\r\n                      <h6 className='mt-1 mb-1'>Room ID : {listing.id}</h6>\r\n                      <h6 className='mt-1 mb-1'>Membership : {\r\n                        this.state.plan_types.map(plan => {\r\n                          return plan.id === parseFloat(listing.membership_type) ? plan.Name : null\r\n                        })\r\n                      }</h6>\r\n                      <h6 className='mt-1 mb-1'>Price : {\r\n                        this.state.plan_types.map(plan => {\r\n                          return plan.id === parseFloat(listing.membership_type) ? '$' + plan.annual_fee : null\r\n                        })\r\n                      }</h6>\r\n                      <PayPalCheckout paymentSuccess={()=>this.SuccessPaypalSubscribe(listing.id)} planId={parseFloat(listing.membership_type)} room_id={listing.id}/>\r\n                      <hr/>\r\n                    </div>\r\n                  )\r\n                : null\r\n              )\r\n            })\r\n          }\r\n          {\r\n            this.state.listings.map((listing, index) =>{\r\n              return (\r\n                listing.status !== 'Subscribed'\r\n                && this.state.publish_listings.includes(listing.id)\r\n                && listing.membership_type \r\n                && listing.membership_type !== '0' \r\n                && listing.id !== Number(this.props.match.params.room_id)\r\n                ? (\r\n                    <div className='mt-4'  key={index} >\r\n                      <h5>{listing.name}</h5>\r\n                      <h6 className='mt-1 mb-1'>Room ID : {listing.id}</h6>\r\n                      <h6 className='mt-1 mb-1'>\r\n                        Membership : {\r\n                        this.state.plan_types.map(plan =>{\r\n                          return plan.id === parseFloat(listing.membership_type) ? plan.Name : null\r\n                        })\r\n                      }\r\n                      </h6>\r\n                      <h6 className='mt-1 mb-1'>\r\n                        Price : {\r\n                        this.state.plan_types.map(plan =>{\r\n                          return plan.id === parseFloat(listing.membership_type) ? '$' + plan.annual_fee : null\r\n                        })\r\n                      }\r\n                      </h6>\r\n                      <PayPalCheckout paymentSuccess={()=>this.SuccessPaypalSubscribe(listing.id)} planId={parseFloat(listing.membership_type)} room_id={listing.id}/>\r\n                      <hr/>\r\n                    </div>\r\n                  )\r\n                : null\r\n              )\r\n            })\r\n          }\r\n          <p></p>\r\n          <p><strong>Note:</strong> You must subscribe for every listings. </p>\r\n        </div>\r\n      )\r\n      const tab_pane_bank = (\r\n        <div className={ this.state.tab_state === TAB_MENU[2] ? \"tab-pane active show\" : \"tab-pane\" } id=\"nav-tab-bank\">\r\n          <p>Bank accaunt details</p>\r\n          <dl className=\"param\">\r\n            <dt>BANK: </dt>\r\n            <dd> THE WORLD BANK</dd>\r\n          </dl>\r\n          <dl className=\"param\">\r\n            <dt>Accaunt number: </dt>\r\n            <dd> 12345678912345</dd>\r\n          </dl>\r\n          <dl className=\"param\">\r\n            <dt>IBAN: </dt>\r\n            <dd> 123456789</dd>\r\n          </dl>\r\n          <p><strong>Note:</strong> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p>\r\n        </div>\r\n      )\r\n      return ( this.state.strip_api_loaded && \r\n        <StripeProvider apiKey={STRIPE_KEY}>\r\n          <main id=\"site-content\" className=\"room-subscribe whole_list container\" role=\"main\">\r\n            <div className=\"manage-listing-row-container\">\r\n              <aside className=\"col-md-6 bg-primary float-left\">\r\n                <div className=\"container pt-5\">\r\n                  {current_room_membership}\r\n                  {other_room_membership}\r\n                  {membership_content}\r\n                  {total_price_list}\r\n                </div>\r\n              </aside>\r\n              <aside className=\"col-md-6 float-right\">\r\n                <article className=\"card\">\r\n                  <div className=\"card-body p-5\">\r\n                    {tab_nav}\r\n                    <div className=\"tab-content\">\r\n                      {tab_pane_stripe}\r\n                      {tab_pane_paypal}\r\n                      {tab_pane_bank}\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </aside>\r\n            </div>\r\n          </main>\r\n        </StripeProvider>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default SubscribeRoom;\r\n","class ScriptCache {\r\n  constructor(scripts) {\r\n    this.loaded = [];\r\n    this.failed = [];\r\n    this.pending = [];\r\n    this.load(scripts);\r\n  }\r\n\r\n  onLoad(success, reject) {\r\n    this.cb_success = success;\r\n    this.cb_reject = reject;\r\n  }\r\n\r\n  load(scripts) {\r\n    scripts.forEach( src => this.loadSrc(src) );\r\n  }\r\n\r\n  loadSrc(src) {\r\n    if (this.loaded.indexOf(src) >= 0) {\r\n      return Promise.resolve(src);\r\n    }\r\n\r\n    this.pending.push(src);\r\n    return this.scriptTag(src)\r\n      .then(() => {\r\n        if (this.cb_success) {\r\n          this.cb_success();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (this.cb_reject) {\r\n          this.cb_reject();\r\n        }\r\n      })\r\n  }\r\n\r\n  scriptTag(src, cb) {\r\n    return new Promise((resolve, reject) => {\r\n      // let resolved = false,\r\n      //     errored = false;\r\n      let body = document.getElementsByTagName('body')[0],\r\n          tag = document.createElement('script');\r\n\r\n      tag.type = 'text/javascript';\r\n      tag.async = false; // Load in order\r\n\r\n      // const handleCallback = tag.onreadystatechange = function() {\r\n      //   if (resolved) return handleLoad();\r\n      //   if (errored) return handleReject();\r\n      //   const state = tag.readyState;\r\n      //   if (state === 'complete') {\r\n      //     handleLoad()\r\n      //   } else if (state === 'error') {\r\n      //     handleReject()\r\n      //   }\r\n      // }\r\n\r\n      const handleLoad = (evt) => { resolve(src); }\r\n      const handleReject = (evt) => { reject(src); }\r\n\r\n      tag.addEventListener('load', handleLoad);\r\n      tag.addEventListener('error', handleReject);\r\n      tag.src = src;\r\n      body.appendChild(tag);\r\n      return tag;\r\n    });\r\n  }\r\n}\r\n\r\nexport default ScriptCache;\r\n","import {API_HOST, ajaxGet, ajaxPost} from './config';\r\n\r\nclass RoomsService {\r\n  getStepstatus(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/rooms_steps_status`);\r\n  }\r\n\r\n  /* Room Basics */\r\n  getBasicsData(room_id) {\r\n    return ajaxGet(`${API_HOST}/ajax/rooms/manage_listing/${room_id}/basics`);\r\n  }\r\n\r\n  updateBedRoom(bedroom_data) {\r\n    return ajaxPost(API_HOST + '/ajax/rooms/saveOrUpdate_bedroom', bedroom_data);\r\n  }\r\n\r\n  deleteBedRoom(bedroom_id, room_id) {\r\n    return ajaxPost(API_HOST + '/ajax/rooms/delete_bedroom', {bedid : bedroom_id, room_id : room_id});\r\n  };\r\n\r\n  updateBathRoom(bathroom_data) {\r\n    return ajaxPost(API_HOST + '/ajax/rooms/saveOrUpdate_bathroom', bathroom_data);\r\n  }\r\n\r\n  deleteBathRoom(bathroom_id, room_id) {\r\n    return ajaxPost(API_HOST + '/ajax/rooms/delete_bathroom', {bathid : bathroom_id, room_id : room_id});\r\n  }\r\n\r\n  updatePrice(room_id, price_data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_price`, {data: JSON.stringify(price_data)});\r\n  }\r\n\r\n  updateRooms(room_id, rooms_data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_rooms`, rooms_data);\r\n  }\r\n\r\n  /* Room Calendar */\r\n  getUnAvailableCalendar(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/unavailable_calendar`, {season_name: ''});\r\n  }\r\n\r\n  getSeasonalCalendar(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/seasonal_calendar`, {season_name: ''});\r\n  }\r\n\r\n  getCalendarData(room_id, year_fr, year_to) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/${year_fr}/${year_to}/get_calendar_data`);\r\n  }\r\n\r\n  getDailyPrices(room_id, year_fr, year_to) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/${year_fr}/${year_to}/get_daily_prices`);\r\n  }\r\n  \r\n  importCalendar(room_id, import_data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/calendar_import`, import_data);\r\n  }\r\n\r\n  saveUnavailableDates(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/save_unavailable_dates`, data);\r\n  }\r\n\r\n  saveReservation(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/save_reservation`, data);\r\n  }\r\n\r\n  saveSeasonalPrice(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/save_seasonal_price`, data);\r\n  }\r\n\r\n  deleteSeasonalPrice(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/delete_seasonal`, data);\r\n  }\r\n\r\n  deleteUnavailableDays(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/delete_not_available_days`, data);\r\n  }\r\n\r\n  deleteReservation(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/delete_reservation`, data);\r\n  }\r\n\r\n  getRoomsStepStatus(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/rooms_steps_status`, {});\r\n  }\r\n  \r\n  /* Room Pricing */\r\n  getAdditionalCharges(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/get_additional_charges`, {});\r\n  }\r\n\r\n  updateAdditionalPrice(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/update_additional_price`, data);\r\n  }\r\n\r\n  getLastMinRules(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/get_last_min_rules`, {id: room_id});\r\n  }\r\n\r\n  updatePriceRules(room_id, price_rule) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_price_rules/last_min`, {data: price_rule});\r\n  }\r\n\r\n  /* Room Location */\r\n  getLocation(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/get_location`, {});\r\n  }\r\n  \r\n  saveLocation(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/finish_address/${room_id}/location`, {data});\r\n  }\r\n\r\n  /* Room Description */\r\n  getDescriptionLanguages(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/lan_description`);\r\n  }\r\n\r\n  getAllLanguages(room_id) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/get_all_language`);\r\n  }\r\n\r\n  addLanguage(room_id, req) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/add_description`, req);\r\n  }\r\n\r\n  deleteLanguage(room_id, req) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/delete_language`, req);\r\n  }\r\n  \r\n  getRoomDescription(room_id) {\r\n    return ajaxGet(`${API_HOST}/ajax/rooms/manage_listing/${room_id}/description`);\r\n  }\r\n\r\n  updateRoomPropertySummary(room_id, req) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_rooms`, req);\r\n  }\r\n\r\n  updateRoomDescription(room_id, req) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_description`, req);\r\n  }\r\n\r\n  getCancelMessage(room_id) {\r\n\t\treturn ajaxGet(`${API_HOST}/ajax/manage_listing/${room_id}/get_cancel_message`);\r\n\t}\r\n\r\n  /* Room Amenity */\r\n  getAmenities(room_id) {\r\n\t\treturn ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/get_amenities`);\r\n\t}\r\n\r\n  updateAmenities(room_id, req) {\r\n\t\treturn ajaxPost(`${API_HOST}/ajax/rooms/manage-listing/${room_id}/update_amenities`, req);\r\n\t}\r\n\r\n  /* Room Video */\r\n  getVideoUrl(room_id) {\r\n\t\treturn ajaxGet(`${API_HOST}/ajax/rooms/manage_listing/${room_id}/get_videoUrl`);\r\n\t}\r\n\r\n  /* Room Photos */\r\n  getPhotoList(room_id) {\r\n    return ajaxGet(`${API_HOST}/ajax/manage-listing/${room_id}/photos_list`);\r\n  }\r\n\r\n  getFeaturePhoto(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/manage-listing/featured_image`, data);\r\n  }\r\n\r\n  updatePhoto(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/manage-listing/photo_highlights`, data);\r\n  }\r\n\r\n  changePhotoOrder(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/manage-listing/change_photo_order`, data);\r\n  }\r\n\r\n  deletePhoto(room_id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/manage-listing/${room_id}/delete_photo`, data);\r\n  }\r\n\r\n  /* Room Publish */\r\n  getMembershipTypes() {\r\n    return ajaxGet(`${API_HOST}/ajax/membershiptypes`);\r\n  }\r\n\r\n  /* Room Subscribe */\r\n  getPublishListing(room_id) {\r\n    return ajaxGet(`${API_HOST}/ajax/rooms/getpublishlistings/${room_id}`);\r\n  }\r\n\r\n  setSubscribeProperty(room_id, req) {\r\n    return ajaxPost(`${API_HOST}/ajax/rooms/post_subscribe_property/${room_id}`, req);\r\n  }\r\n\r\n}\r\n\r\nexport const roomsService = new RoomsService();\r\n"],"sourceRoot":""}