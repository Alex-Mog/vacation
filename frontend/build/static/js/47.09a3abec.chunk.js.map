{"version":3,"sources":["shared/Utils.js","components/rooms/calendar/BookingCalendar.jsx","components/rooms/calendar/RatePanel.jsx","pages/Rooms/RoomCalendar.jsx","components/rooms/ManageRoomHeader.jsx"],"names":["Utils","dateStr","dateFns","Date","date","moment","utc","format","days","_","BookingCalendar","props","state","currentMonth","selectedDate","start_date","end_date","hover_able","onDateClick","bind","onHoverDate","nextMonth","prevMonth","resetDateRange","handleEdit","type","index","value","this","parentHandleEdit","nextProps","setState","className","onClick","xmlns","width","height","viewBox","fill","d","formatMonth","formatYear","day","unavailable_dates","indexOf","formatYmdDate","subDays","startDate","i","push","key","formatWeekDayFormat","monthStart","startOfMonth","monthEnd","endOfMonth","startOfWeek","endDate","endOfWeek","unavailable","day_types","day_position","rows","formattedDate","date_count","formatDay","cloneDay","calendarData","class_name","checkout_class_name","indexOfDay","isBooked","isCheckinDay","isCheckoutDay","isRangeSelected","isBlockedCheckout","editType","editIndex","editId","checkoutType","checkoutIndex","checkoutId","reservation_detail","j","length","parseDateStr","getTime","id","not_available_dates","onMouseEnter","onDoubleClick","seasonal_calendar","seasonal_days","calendar_data","seasonal_name","dangerouslySetInnerHTML","__html","price_symbol","price","prev_seasonal","onSelectedRange","updateCurrentMonth","renderHeader","renderDays","renderCells","React","Component","RateItem","data","opened","handleRemove","parentHandleRemove","event","name_field","namefield","propertyid","propertyname","seasonal","dollarsign","undefined","data-toggle","to","role","aria-expanded","aria-controls","handleSubMenu","style","flexDirection","flexWrap","icon","faEdit","faTimes","RatePanel","display_id","map","record","onParentHandleRemove","onParentHandleEdit","room_id","RoomCalendar","tabIndex","open_modal","open_export_modal","open_import_modal","edit_reservation","edit_reservation_index","edit_season","edit_season_index","edit_blocked","edit_blocked_index","edit_daily","edit_daily_index","edit_reservation_id","edit_season_id","edit_blocked_id","edit_prices_id","reservation_name","reservation_price","reservation_guests","reservation_notes","seasonal_price","seasonal_guests","seasonal_week","seasonal_month","seasonal_weekend","seasonal_minimum_stay","unavailable_name","daily_price","month_calendar_data","ical_name","ical_url","open_yesno_mdl","alert_title","alert_content","alert_type","alert_index","alert_value","on_removing","on_saving","openReservationModal","closeReservationModal","handleStartDatePickerChange","handleEndDatePickerChange","handleChangeModal","handleBookingBlocked","handleBookingReservation","handleBookingSeasonal","handleExportCalendar","handleImportCalendar","handeImportCalendarAction","bookingCalendarInit","handleEditSeasonal","handleRemoveSeasonal","handleEditReservation","handleRemoveReservation","handleEditBlocked","handleRemoveBlocked","handleRemoveModal","match","params","roomsService","getUnAvailableCalendar","then","res","alertService","showError","getSeasonalCalendar","year","getYear","month","getMonth","getCalendarData","e","preventDefault","req","url","name","req_type","importCalendar","showSuccess","setSaveStatus","blocked_data","reserveid","reservation_id","edit_seasonal_name","saveUnavailableDates","success","error_message","Object","keys","errors","clearSaveStatus","catch","reservation_data","notes","reservation_source","guests","saveReservation","seasonal_data","seasonal_price_detail","created_at","updated_at","rateId","additional_guest","week","weekend","minimum_stay","saveSeasonalPrice","error","resetHandler","target","deleteSeasonalPrice","seasonal_id","status","closeRemoveModal","season_name","deleteUnavailableDays","deleteReservation","setRemoveStatus","seasonal_columns","Header","textAlign","accessor","minWidth","Cell","momentUtcFormatDate","original","rooms_price","currency","symbol","blocked_columns","reservation_columns","maxWidth","import_calendar_modal","open","styles","modal","padding","onClose","data-behavior","marginBottom","method","onSubmit","acceptCharset","onChange","placeholder","marginTop","data-prevent-default","ng-disabled","visibility","export_calendar_modal","defaultValue","window","location","origin","readOnly","reservation_modal","selectedIndex","onSelect","data-mode","noValidate","selected","display","color","rel","title","original_symbol","aria-invalid","data-error","ng-init","yes_no_modal","center","ManageRoomHeader","descr","paddingRight","click","faBook","columns","prev","next","href"],"mappings":"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","file":"static/js/47.09a3abec.chunk.js","sourcesContent":["import * as dateFns from \"date-fns\";\r\nimport moment from 'moment';\r\n\r\nconst dateFormat1 = \"YYYY-MM-DD\";\r\nconst dateFormat = \"MM/DD/yyyy\";\r\n\r\nclass Utils {\r\n  static _ = Utils._ == null ? new Utils() : this._\r\n\r\n  // date string to date as MM/DD/yyyy.\r\n  parseDateStr(dateStr) {\r\n    return dateFns.parse(dateStr, dateFormat, new Date())\r\n  }\r\n\r\n  formatDate(date) {\r\n    return dateFns.format(date, dateFormat);\r\n  }\r\n\r\n  // date string to date as yyyy-MM-DD.\r\n  parseYmdDateStr(dateStr) {\r\n    return dateFns.parse(dateStr, dateFormat1, new Date())\r\n  }\r\n  \r\n  formatYmdDate(date) {\r\n    return dateFns.format(date, dateFormat1);\r\n  }\r\n\r\n  formatDay(date) {\r\n    return dateFns.format(date, 'D');\r\n  }\r\n\r\n  formatMonth(date) {\r\n    return dateFns.format(date, 'MMM');\r\n  }\r\n\r\n  formatYear(date) {\r\n    return dateFns.format(date, 'YYYY');\r\n  }\r\n\r\n  formatWeekDayFormat(date) {\r\n    return dateFns.format(date, 'ddd');\r\n  }\r\n\r\n  // date to formated date string.\r\n  momentUtcFormatDate(date) {\r\n    return moment.utc(date).format(dateFormat)\r\n  }\r\n\r\n  startOfMonth(date) {\r\n    return dateFns.startOfMonth(date)\r\n  }\r\n\r\n  endOfMonth(date) {\r\n    return dateFns.endOfMonth(date)\r\n  }\r\n\r\n  startOfWeek(date) {\r\n    return dateFns.startOfWeek(date)\r\n  }\r\n\r\n  endOfWeek(date) {\r\n    return dateFns.endOfWeek(date)\r\n  }\r\n\r\n  subDays(date, days) {\r\n    return dateFns.subDays(date, days);\r\n  }\r\n}\r\n\r\nexport default Utils;\r\n","import React from \"react\";\r\nimport Utils from 'shared/Utils';\r\nimport * as dateFns from \"date-fns\";\r\n\r\nclass BookingCalendar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentMonth: new Date(),\r\n      selectedDate: new Date(),\r\n      start_date: null,\r\n      end_date: null,\r\n      hover_able: false\r\n    };\r\n    this.onDateClick = this.onDateClick.bind(this);\r\n    this.onHoverDate = this.onHoverDate.bind(this);\r\n    this.nextMonth = this.nextMonth.bind(this);\r\n    this.prevMonth = this.prevMonth.bind(this);\r\n    this.resetDateRange = this.resetDateRange.bind(this);\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n  }\r\n\r\n  handleEdit(type, index, value) {\r\n    this.props.parentHandleEdit(type, index, value);\r\n  }\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    // console.log(\"componenet will receive props\");\r\n    // console.log(nextProps);\r\n  }\r\n  componentDidMount() {\r\n    this.props.resetDateRange(this.resetDateRange);\r\n  }\r\n  resetDateRange() {\r\n    this.setState({\r\n      start_date: null,\r\n      end_date: null,\r\n      selectedDate: new Date()\r\n    });\r\n  }\r\n  renderHeader() {\r\n    return (\r\n      <div className=\"wtbcaption\">\r\n        <div className=\"row\">\r\n          <div className=\"button-group d-flex justify-content-between align-items-center\">\r\n            <div className=\"prev d-flex align-items-center\">\r\n              <button onClick={this.prevMonth}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"32\" viewBox=\"0 0 26 32\" className=\"nav__arrow nav__arrow--left\" >\r\n                  <path fill=\"inherit\" d=\"M16.75 0L2.875 13.875.75 16l2.125 2.125L16.75 32h8.5l-16-16 16-16z\"></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div className=\"clnd-date\">\r\n              <span className=\"month\">\r\n                {Utils._.formatMonth(this.state.currentMonth)}\r\n              </span>\r\n              <span>&nbsp;&nbsp;</span>\r\n              <span className=\"year\">\r\n                {Utils._.formatYear(this.state.currentMonth)}\r\n              </span>\r\n            </div>\r\n            <div className=\"next d-flex align-items-center\">\r\n              <button onClick={this.nextMonth} className=\"next\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"32\" viewBox=\"0 0 26 32\" className=\"nav__arrow nav__arrow--right\">\r\n                  <path fill=\"inherit\" d=\"M.75 0l16 16-16 16h8.5l13.875-13.875L25.25 16l-2.125-2.125L9.25 0z\"></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  onHoverDate(day) {\r\n    // const dateFormat_1 = \"yyyy-MM-DD\";\r\n    if (\r\n      this.state.start_date &&\r\n      this.state.hover_able &&\r\n      (!this.props.unavailable_dates ||\r\n        !this.props.unavailable_dates.unavailable_dates ||\r\n        this.props.unavailable_dates.unavailable_dates.indexOf(\r\n          Utils._.formatYmdDate(Utils._.subDays(day, 1))\r\n        ) === -1)\r\n    ) {\r\n      this.setState({\r\n        selectedDate: day,\r\n        end_date: day\r\n      });\r\n    }\r\n  }\r\n  renderDays() {\r\n    // const dateFormat = \"ddd\";\r\n    const days = [];\r\n    let startDate = dateFns.startOfWeek(this.state.currentMonth);\r\n    for (let i = 0; i < 7; i++) {\r\n      days.push(\r\n        <div className=\"wtbhead\" key={i}>\r\n          {Utils._.formatWeekDayFormat(dateFns.addDays(startDate, i))}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"wtbheading\">\r\n        <div className=\"wtbrow\">{days}</div>\r\n      </div>\r\n    );\r\n  }\r\n  renderCells() {\r\n    // const dateFormat_1 = \"yyyy-MM-DD\";\r\n    const { currentMonth, selectedDate } = this.state;\r\n    const monthStart = Utils._.startOfMonth(currentMonth);\r\n    const monthEnd = Utils._.endOfMonth(monthStart);\r\n    const startDate = Utils._.startOfWeek(monthStart);\r\n    const endDate = Utils._.endOfWeek(monthEnd);\r\n    const unavailable = this.props.unavailable_dates;\r\n    const unavailable_dates = unavailable.unavailable_dates;\r\n    const day_types = unavailable.day_types;\r\n    const day_position = unavailable.day_position;\r\n    const rows = [];\r\n    let days = [];\r\n    let day = startDate;\r\n    let formattedDate = \"\";\r\n    let date_count = 0;\r\n    \r\n    while (day <= endDate) {\r\n      for (let i = 0; i < 7; i++) {\r\n        formattedDate = Utils._.formatDay(day);\r\n        const cloneDay = day;\r\n\r\n        if (this.props.calendarData === null) continue;\r\n\r\n        let class_name = \"wtbcell caldt  align-items-center \",\r\n          checkout_class_name = \"reservation-color\";\r\n        let indexOfDay = -1,\r\n          isBooked = false,\r\n          isCheckinDay = false,\r\n          isCheckoutDay = false,\r\n          isRangeSelected = false,\r\n          isBlockedCheckout = false;\r\n        let editType = 0,\r\n          editIndex = 0,\r\n          editId = 0,\r\n          checkoutType = 0,\r\n          checkoutIndex = 0,\r\n          checkoutId = 0;\r\n        if (unavailable_dates) {\r\n          indexOfDay = unavailable\r\n            ? unavailable_dates.indexOf(Utils._.formatYmdDate(day))\r\n            : -1;\r\n          isBooked = indexOfDay >= 0 ? true : false;\r\n          isCheckinDay =\r\n            isBooked && day_position[indexOfDay] === \"checkin\" ? true : false;\r\n          isCheckoutDay =\r\n            (isCheckinDay || !isBooked) &&\r\n            unavailable_dates.indexOf(\r\n              Utils._.formatYmdDate(Utils._.subDays(day, 1))\r\n            ) !== -1\r\n              ? true\r\n              : false;\r\n          isBlockedCheckout = isCheckoutDay && day_types[unavailable_dates.indexOf(Utils._.formatYmdDate(Utils._.subDays(day, 1)))] === \"blocked\";\r\n          isRangeSelected =\r\n            this.state.start_date &&\r\n            this.state.end_date &&\r\n            ((dateFns.isAfter(day, this.state.start_date) &&\r\n              dateFns.isBefore(day, this.state.end_date)) ||\r\n              dateFns.isSameDay(day, this.state.start_date) ||\r\n              dateFns.isSameDay(day, this.state.end_date));\r\n          class_name =\r\n            class_name +\r\n            (!dateFns.isSameMonth(day, monthStart)\r\n              ? \"disabled \"\r\n              : dateFns.isSameDay(day, selectedDate)\r\n              ? \" selected \"\r\n              : \"\");\r\n          if (isBooked) {\r\n            class_name += \" booked \" + day_types[unavailable_dates.indexOf(Utils._.formatYmdDate(day))];\r\n            class_name += \" \" + day_position[unavailable_dates.indexOf(Utils._.formatYmdDate(day))];\r\n            // class_name +=isCheckinDay === true?' checkin ' : ' ';\r\n          } else {\r\n            class_name += \" editable \";\r\n          }\r\n          class_name += isCheckoutDay === true ? \" display-gradient \" : \" \";\r\n\r\n          if (isBlockedCheckout === true) checkout_class_name = \"blocked-color\";\r\n          class_name += isRangeSelected === true ? \" range_selected \" : \"\";\r\n\r\n          let reservation_detail = this.props.calendarData.reservation_detail;\r\n          if (reservation_detail) {\r\n            for (let j = 0; j < reservation_detail.length; j++) {\r\n              let start_date = Utils._.parseDateStr(reservation_detail[j].start_date);\r\n              let end_date = Utils._.parseDateStr(reservation_detail[j].end_date);\r\n              if (\r\n                day.getTime() >= start_date.getTime() &&\r\n                day.getTime() < end_date.getTime()\r\n              ) {\r\n                editIndex = j;\r\n                editId = reservation_detail[j].id;\r\n                editType = 2;\r\n              }\r\n              if (day.getTime() === end_date.getTime()) {\r\n                checkoutIndex = j;\r\n                checkoutId = reservation_detail[j].id;\r\n                checkoutType = 2;\r\n              }\r\n            }\r\n          }\r\n\r\n          let not_available_dates = this.props.calendarData.not_available_dates;\r\n          if (not_available_dates) {\r\n            for (let j = 0; j < not_available_dates.length; j++) {\r\n              let start_date = Utils._.parseDateStr(not_available_dates[j].start_date);\r\n              let end_date = Utils._.parseDateStr(not_available_dates[j].end_date);\r\n              if (\r\n                day.getTime() >= start_date.getTime() &&\r\n                day.getTime() < end_date.getTime()\r\n              ) {\r\n                editIndex = j;\r\n                editId = not_available_dates[j].id;\r\n                editType = 3;\r\n              }\r\n              if (day.getTime() === end_date.getTime()) {\r\n                checkoutIndex = j;\r\n                checkoutId = not_available_dates[j].id;\r\n                checkoutType = 3;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        days.push(\r\n          <div className={class_name} key={day} onClick={() => this.onDateClick(Utils._.parseDateStr(cloneDay))} onMouseEnter={() => this.onHoverDate(Utils._.parseDateStr(cloneDay))}>\r\n            <span className=\"number \">{formattedDate}</span>\r\n            {!isCheckoutDay && (\r\n              <div className=\"sign\" onDoubleClick={() => this.handleEdit(editType, editIndex, editId)}>\r\n                <span className={`seasonal_name ${this.props.seasonal_calendar && this.props.seasonal_calendar.seasonal_days && this.props.seasonal_calendar.seasonal_days.indexOf(Utils._.formatYmdDate(day)) !== -1 ? \"\" : \"\"}`}>\r\n                {\r\n                  this.props.calendarData &&\r\n                  this.props.calendarData.calendar_data &&\r\n                  this.props.calendarData.calendar_data[date_count] ? (<strong>{this.props.calendarData.calendar_data[date_count].seasonal_name}</strong>) : (\"\")\r\n                }\r\n                </span>\r\n                <span className={`seasonal ${this.props.seasonal_calendar && this.props.seasonal_calendar.seasonal_days && this.props.seasonal_calendar.seasonal_days.indexOf(Utils._.formatYmdDate(day)) !== -1 ? \"\" : \"\"}`}>\r\n                {\r\n                  this.props.calendarData &&\r\n                  this.props.calendarData.calendar_data &&\r\n                  this.props.calendarData.calendar_data[date_count] ? (\r\n                    <strong>\r\n                      <span\r\n                        dangerouslySetInnerHTML={{\r\n                          __html: this.props.calendarData.calendar_data[\r\n                            date_count\r\n                          ].price_symbol\r\n                        }}\r\n                      ></span>\r\n                      {this.props.calendarData.calendar_data[date_count].price}\r\n                    </strong>\r\n                  ) : (\r\n                    \"\"\r\n                  )\r\n                }\r\n                </span>\r\n              </div>\r\n            )}\r\n            {\r\n              isCheckoutDay && (\r\n              <div className={`${checkout_class_name} checkout-sign`} onDoubleClick={() => this.handleEdit(checkoutType, checkoutIndex, checkoutId)}>\r\n                <span className={`seasonal_name ${this.props.seasonal_calendar && this.props.seasonal_calendar.seasonal_days && this.props.seasonal_calendar.seasonal_days.indexOf(Utils._.formatYmdDate(Utils._.subDays(day, 1))) !== -1 ? \"\" : \"\"}`}>\r\n                  {this.props.calendarData &&\r\n                  this.props.calendarData.calendar_data &&\r\n                  this.props.calendarData.calendar_data[date_count] ? (\r\n                    <strong>\r\n                      {\r\n                        this.props.calendarData.calendar_data[date_count]\r\n                          .prev_seasonal\r\n                      }\r\n                    </strong>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </span>\r\n                {!isBlockedCheckout && (\r\n                  <span\r\n                    className={`seasonal ${\r\n                      this.props.seasonal_calendar &&\r\n                      this.props.seasonal_calendar.seasonal_days &&\r\n                      this.props.seasonal_calendar.seasonal_days.indexOf(\r\n                        Utils._.formatYmdDate(Utils._.subDays(day, 1))\r\n                      ) !== -1\r\n                        ? \"\"\r\n                        : \"\"\r\n                    }`}\r\n                  >\r\n                    {/* {this.props.calendarData && this.props.calendarData.calendar_data && this.props.calendarData.calendar_data[date_count] ? <strong><span dangerouslySetInnerHTML={{ __html: this.props.calendarData.calendar_data[date_count].price_symbol }}></span>{this.props.calendarData.calendar_data[date_count].prev_price}</strong> : ''} */}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n            {isCheckinDay && isCheckoutDay && (\r\n              <div\r\n                className=\"checkin-sign\"\r\n                onDoubleClick={() =>\r\n                  this.handleEdit(editType, editIndex, editId)\r\n                }\r\n              >\r\n                <span\r\n                  className={`seasonal_name ${\r\n                    this.props.seasonal_calendar &&\r\n                    this.props.seasonal_calendar.seasonal_days &&\r\n                    this.props.seasonal_calendar.seasonal_days.indexOf(\r\n                      Utils._.formatYmdDate(day)\r\n                    ) !== -1\r\n                      ? \"\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  {this.props.calendarData &&\r\n                  this.props.calendarData.calendar_data &&\r\n                  this.props.calendarData.calendar_data[date_count] ? (\r\n                    <strong>\r\n                      {\r\n                        this.props.calendarData.calendar_data[date_count]\r\n                          .seasonal_name\r\n                      }\r\n                    </strong>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </span>\r\n\r\n                <span\r\n                  className={`seasonal ${\r\n                    this.props.seasonal_calendar &&\r\n                    this.props.seasonal_calendar.seasonal_days &&\r\n                    this.props.seasonal_calendar.seasonal_days.indexOf(\r\n                      Utils._.formatYmdDate(day)\r\n                    ) !== -1\r\n                      ? \"\"\r\n                      : \"\"\r\n                  }`}\r\n                >\r\n                  {this.props.calendarData &&\r\n                  this.props.calendarData.calendar_data &&\r\n                  this.props.calendarData.calendar_data[date_count] ? (\r\n                    <strong>\r\n                      <span\r\n                        dangerouslySetInnerHTML={{\r\n                          __html: this.props.calendarData.calendar_data[\r\n                            date_count\r\n                          ].price_symbol\r\n                        }}\r\n                      ></span>\r\n                      {this.props.calendarData.calendar_data[date_count].price}\r\n                    </strong>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </span>\r\n              </div>\r\n            )}\r\n            {!isBooked && (\r\n              <span\r\n                className={`daily-price ${\r\n                  this.props.seasonal_calendar &&\r\n                  this.props.seasonal_calendar.seasonal_days &&\r\n                  this.props.seasonal_calendar.seasonal_days.indexOf(\r\n                    Utils._.formatYmdDate(day)\r\n                  ) !== -1\r\n                    ? \"\"\r\n                    : \"\"\r\n                }`}\r\n              >\r\n                {this.props.calendarData &&\r\n                this.props.calendarData.calendar_data &&\r\n                this.props.calendarData.calendar_data[date_count] ? (\r\n                  <strong>\r\n                    <span\r\n                      dangerouslySetInnerHTML={{\r\n                        __html: this.props.calendarData.calendar_data[\r\n                          date_count\r\n                        ].price_symbol\r\n                      }}\r\n                    ></span>\r\n                    {this.props.calendarData.calendar_data[date_count].price}\r\n                  </strong>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </span>\r\n            )}\r\n          </div>\r\n        );\r\n        day = dateFns.addDays(day, 1);\r\n        date_count++;\r\n      }\r\n      rows.push(\r\n        <div className=\"wtbrow \" key={day}>\r\n          {days}\r\n        </div>\r\n      );\r\n      days = [];\r\n    }\r\n    return <div className=\"wtbbody\">{rows}</div>;\r\n  }\r\n  onDateClick(day) {\r\n    if (\r\n      this.props.unavailable_dates &&\r\n      this.props.unavailable_dates.unavailable_dates &&\r\n      this.props.unavailable_dates.unavailable_dates.indexOf(\r\n        Utils._.formatYmdDate(day)\r\n      ) !== -1\r\n    ) {\r\n    } else {\r\n    }\r\n\r\n    if (!this.state.start_date || !this.state.hover_able) {\r\n      this.setState({\r\n        selectedDate: day,\r\n        end_date: null,\r\n        start_date: day,\r\n        hover_able: true\r\n      });\r\n    } else {\r\n      if (dateFns.isSameDay(day, this.state.start_date)) {\r\n        this.setState({\r\n          selectedDate: null,\r\n          end_date: null,\r\n          start_date: null,\r\n          hover_able: true\r\n        });\r\n        return;\r\n      }\r\n      if (dateFns.isAfter(day, this.state.start_date)) {\r\n        this.setState({\r\n          selectedDate: day,\r\n          end_date: day,\r\n          hover_able: false\r\n        });\r\n        this.props.onSelectedRange(this.state.start_date, this.state.end_date);\r\n      } else {\r\n        this.setState({\r\n          selectedDate: day,\r\n          end_date: null,\r\n          start_date: day,\r\n          hover_able: true\r\n        });\r\n      }\r\n    }\r\n  }\r\n  nextMonth() {\r\n    this.setState(\r\n      {\r\n        currentMonth: dateFns.addMonths(this.state.currentMonth, 1)\r\n      },\r\n      () => {\r\n        this.props.updateCurrentMonth(this.state.currentMonth);\r\n      }\r\n    );\r\n  }\r\n  prevMonth() {\r\n    this.setState(\r\n      {\r\n        currentMonth: dateFns.subMonths(this.state.currentMonth, 1)\r\n      },\r\n      () => {\r\n        this.props.updateCurrentMonth(this.state.currentMonth);\r\n      }\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"month-container\">\r\n        <div className=\"calendar-wrap-sm\">\r\n          <div className=\"wtb-sm\">\r\n            {this.renderHeader()}\r\n            {this.renderDays()}\r\n            {this.renderCells()}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default BookingCalendar;\r\n ","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTimes, faEdit } from '@fortawesome/free-solid-svg-icons';\r\n\r\nclass RateItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type: null,\r\n      data: null,\r\n      opened: false\r\n    };\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n    this.handleRemove = this.handleRemove.bind(this);\r\n  }\r\n  handleEdit(id) {\r\n    this.props.parentHandleEdit(this.props.type, this.props.index, id);\r\n  }\r\n  handleRemove(id) {\r\n    this.props.parentHandleRemove(this.props.type, this.props.index, id);\r\n  }\r\n  handleSubMenu(event) {\r\n    this.setState({\r\n      opened : !this.state.opened\r\n    })\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      type: this.props.type,\r\n      data: this.props.data\r\n    });\r\n  }\r\n  render() {\r\n    const name_field = this.props.namefield;\r\n    const propertyid = this.props.propertyid;\r\n    const propertyname = this.props.propertyname;\r\n    let seasonal = \"\";\r\n    let dollarsign = \"\";\r\n    if (propertyid === \"price\") {\r\n      dollarsign = \"$\";\r\n    }\r\n\r\n    if (\r\n      this.props.data[\"seasonal_name\"] === \"\" ||\r\n      this.props.data[\"seasonal_name\"] === null ||\r\n      this.props.data[\"seasonal_name\"] === undefined\r\n    ) {\r\n      seasonal =\r\n        this.props.data[\"start_date\"] + \" ~ \" + this.props.data[\"end_date\"];\r\n    } else {\r\n      seasonal = this.props.data[\"seasonal_name\"];\r\n    }\r\n    return (\r\n      <div className=\"rate-item\">\r\n        <div className=\"collapse-link\">\r\n          <Link\r\n            className=\"btn\"\r\n            data-toggle=\"collapse\"\r\n            // href={`#example${this.props.data[\"id\"]}`}\r\n            to=\"#\"\r\n            role=\"button\"\r\n            aria-expanded=\"false\"\r\n            aria-controls={this.props.data[\"id\"]}\r\n            onClick={event => this.handleSubMenu(event)}\r\n          >\r\n            {seasonal}\r\n          </Link>\r\n        </div>\r\n        <div id={`example${this.props.data[\"id\"]}`} className={this.state.opened ? \"collapse show\" : \"collapse\"}>\r\n          <div className=\"col-sm-12\">\r\n            <p className=\"item-title col-lg-6 col-sm-6\"> {name_field}</p>\r\n            <p className=\"item-content col-lg-6 col-sm-6\">\r\n              {\" \"}\r\n              {this.props.data[\"seasonal_name\"]}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <p className=\"item-title col-lg-6 col-sm-6\"> Start Date</p>\r\n            <p className=\"item-content col-lg-6 col-sm-6\">\r\n              {\" \"}\r\n              {this.props.data[\"start_date\"]}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <p className=\"item-title col-lg-6 col-sm-6\"> End Date</p>\r\n            <p className=\"item-content col-lg-6 col-sm-6\">\r\n              {\" \"}\r\n              {this.props.data[\"end_date\"]}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-lg-12\">\r\n            <p className=\"item-title col-lg-6 col-sm-6\"> {propertyname}</p>\r\n            <p className=\"item-content col-lg-6 col-sm-6\">\r\n              {\" \"}\r\n              {dollarsign}\r\n              {this.props.data[propertyid]}\r\n            </p>\r\n          </div>\r\n          <div className=\"col-lg-12 d-flex\" style={{flexDirection: 'row', flexWrap: 'wrap'}}>\r\n            <button\r\n              className=\"btn btn-warning\"\r\n              onClick={() => this.handleEdit(this.props.data[\"id\"])}\r\n            >\r\n              <FontAwesomeIcon className=\"edit-mark\" icon={faEdit} />\r\n              <span>Edit</span>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-danger\"\r\n              onClick={() => this.handleRemove(this.props.data[\"id\"])}\r\n            >\r\n              <FontAwesomeIcon className=\"remove-mark\" icon={faTimes} />\r\n              <span>Remove</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass RatePanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { data: props.data, display_id: 0 };\r\n  }\r\n  componentDidMount() {}\r\n\r\n  handlePrev() {\r\n    if (this.state.display_id > 0)\r\n      this.setState(state => ({\r\n        display_id: this.state.display_id - 1\r\n      }));\r\n  }\r\n\r\n  handleNext() {\r\n    if (this.state.display_id < this.state.data.length)\r\n      this.setState(state => ({\r\n        display_id: this.state.display_id + 1\r\n      }));\r\n  }\r\n  onParentHandleRemove(type, index, id) {\r\n    this.props.handleRemove(type, index, id);\r\n  }\r\n\r\n  onParentHandleEdit(type, index, id) {\r\n    this.props.handleEdit(type, index, id);\r\n  }\r\n  render() {\r\n    const name_field = this.props.namefield;\r\n    const propertyid = this.props.propertyid;\r\n    const propertyname = this.props.propertyname;\r\n\r\n    if (!this.props.data) return <div> Empty list </div>;\r\n    return this.props.data.map((record, index) => (\r\n      <RateItem\r\n        data={record}\r\n        type={this.props.type}\r\n        parentHandleRemove={this.onParentHandleRemove.bind(this)}\r\n        parentHandleEdit={this.onParentHandleEdit.bind(this)}\r\n        index={index}\r\n        key={record.id + record.room_id}\r\n        namefield={name_field}\r\n        propertyid={propertyid}\r\n        propertyname={propertyname}\r\n      />\r\n    ));\r\n  }\r\n}\r\n\r\nexport default RatePanel;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Modal from 'react-responsive-modal';\r\nimport DatePicker from \"react-datepicker\";\r\nimport {Tab, Tabs, TabList, TabPanel} from 'react-tabs';\r\nimport dateFns from 'date-fns';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport BookingCalendar from 'components/rooms/calendar/BookingCalendar';\r\nimport RatePanel from 'components/rooms/calendar/RatePanel';\r\nimport ManageRoomHeader from \"components/rooms/ManageRoomHeader\";\r\nimport {roomsService} from 'services/rooms';\r\nimport {alertService} from 'services/alert';\r\n\r\nimport Utils from 'shared/Utils';\r\n\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport 'assets/styles/rooms/room_calendar.scss';\r\n\r\nclass RoomCalendar extends React.Component {\r\n\tconstructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      tabIndex: 0,\r\n      open_modal: false,\r\n      open_export_modal: false,\r\n      open_import_modal: false,\r\n\r\n      edit_reservation: false,\r\n      edit_reservation_index: false,\r\n      edit_season: false,\r\n      edit_season_index: false,\r\n      edit_blocked: false,\r\n      edit_blocked_index: false,\r\n      edit_daily: false,\r\n      edit_daily_index: false,\r\n\r\n      edit_reservation_id: null,\r\n      edit_season_id: null,\r\n      edit_blocked_id: null,\r\n      edit_prices_id: null,\r\n\r\n      startDate: new Date(),\r\n      endDate: new Date(),\r\n      reservation_name: '',\r\n      reservation_price: 0,\r\n      reservation_guests: 1,\r\n      reservation_notes: '',\r\n      // ---------------- : '',\r\n      seasonal_name: '',\r\n      seasonal_price: 0,\r\n      seasonal_guests: 1,\r\n      seasonal_week: 0,\r\n      seasonal_month: 0,\r\n      seasonal_weekend: 0,\r\n      seasonal_minimum_stay: 0,\r\n      // ----------------- : '',\r\n      unavailable_name: '',\r\n\r\n      daily_price: 0,\r\n\r\n      room_id: null,\r\n      unavailable_dates: {},\r\n      month_calendar_data: {},\r\n\r\n      //=========ical state\r\n      ical_name: '',\r\n      ical_url: '',\r\n      currentMonth: new Date(),\r\n\r\n      //========= yes no modal\r\n      open_yesno_mdl: false,\r\n      alert_title: '',\r\n      alert_content: '',\r\n      alert_type: '',\r\n      alert_index: null,\r\n      alert_value: null,\r\n      on_removing: false,\r\n\r\n      on_saving: false,\r\n    }\r\n    this.onSelectedRange = this.onSelectedRange.bind(this)\r\n    this.openReservationModal = this.openReservationModal.bind(this)\r\n    this.closeReservationModal = this.closeReservationModal.bind(this)\r\n    this.handleStartDatePickerChange = this.handleStartDatePickerChange.bind(this)\r\n    this.handleEndDatePickerChange = this.handleEndDatePickerChange.bind(this)\r\n    this.handleChangeModal = this.handleChangeModal.bind(this)\r\n\r\n    this.handleBookingBlocked = this.handleBookingBlocked.bind(this)\r\n    this.handleBookingReservation = this.handleBookingReservation.bind(this)\r\n    this.handleBookingSeasonal = this.handleBookingSeasonal.bind(this)\r\n\r\n    this.handleExportCalendar = this.handleExportCalendar.bind(this)\r\n    this.handleImportCalendar = this.handleImportCalendar.bind(this)\r\n    this.handeImportCalendarAction = this.handeImportCalendarAction.bind(this)\r\n\r\n    this.bookingCalendarInit = this.bookingCalendarInit.bind(this)\r\n\r\n    //\r\n    this.handleEditSeasonal = this.handleEditSeasonal.bind(this)\r\n    this.handleRemoveSeasonal = this.handleRemoveSeasonal.bind(this)\r\n    this.handleEditReservation = this.handleEditReservation.bind(this)\r\n    this.handleRemoveReservation = this.handleRemoveReservation.bind(this)\r\n    this.handleEditBlocked = this.handleEditBlocked.bind(this)\r\n    this.handleRemoveBlocked = this.handleRemoveBlocked.bind(this)\r\n\r\n    this.handleRemoveModal = this.handleRemoveModal.bind(this)\r\n  }\r\n\r\n\tcomponentDidMount () {\r\n    this.bookingCalendarInit();\r\n\t}\r\n\t\r\n  bookingCalendarInit () {\r\n    const room_id = this.props.match.params.room_id;\r\n\r\n    roomsService.getUnAvailableCalendar(room_id).then(res => {\r\n      if (res) {\r\n        this.setState({unavailable_dates: res});\r\n      } else {\r\n        alertService.showError('Get unavailable calendar');\r\n      }\r\n    });\r\n\r\n    roomsService.getSeasonalCalendar(room_id).then(res => {\r\n      if (res) {\r\n        this.setState({seasonal_calendar: res});\r\n      } else {\r\n        alertService.showError('Get seasonal calendar');\r\n      }\r\n    });\r\n\r\n    const year = dateFns.getYear(this.state.currentMonth);\r\n    const month = dateFns.getMonth(this.state.currentMonth) + 1;\r\n\r\n    roomsService.getCalendarData(room_id, year, month).then(res => {\r\n      if (res) {\r\n        this.setState({month_calendar_data: res});\r\n      } else {\r\n        alertService.showError('Get calendar data');\r\n      }\r\n    });\r\n    // roomsService.getUnAvailableCalendar(room_id, year, month).then(res => {\r\n    //   // this.setState({daily_calendar: res});\r\n    // });\r\n  }\r\n  handleExportCalendar () {\r\n    this.setState({\r\n      open_export_modal: true\r\n    })\r\n  }\r\n  handleImportCalendar () {\r\n    this.setState({\r\n      open_import_modal: true\r\n    })\r\n  }\r\n  handeImportCalendarAction (e) {\r\n    e.preventDefault()\r\n\r\n    const room_id = this.props.match.params.room_id;\r\n    const req = {\r\n      url: this.state.ical_url, \r\n      name: this.state.ical_name,\r\n      req_type: 'check'\r\n    }\r\n    roomsService.importCalendar(room_id, req).then(res => {\r\n      if (res) {\r\n        this.setState({\r\n          open_import_modal: false\r\n        });\r\n        this.bookingCalendarInit();\r\n        alertService.showSuccess('iCal Imported');\r\n      } else {\r\n        alertService.showError('iCal Imported');\r\n      }\r\n    });\r\n  }\r\n\r\n  handleBookingBlocked (e) {\r\n    this.setSaveStatus();\r\n    e.preventDefault();\r\n\r\n    const room_id = this.props.match.params.room_id;\r\n    let data = {};\r\n    if (this.state.edit_blocked) {\r\n      let blocked_data = this.state.month_calendar_data.not_available_dates[this.state.edit_blocked_index];\r\n\r\n      blocked_data.seasonal_name = \r\n        blocked_data.seasonal_name === '' || \r\n        blocked_data.seasonal_name === undefined || \r\n        blocked_data.seasonal_name === null ? \r\n        \"no name\" : \r\n        blocked_data.seasonal_name;\r\n\r\n      data = {\r\n        room_id: this.props.match.params.room_id,\r\n        reserveid: blocked_data.reserveid,\r\n        reservation_id: this.state.edit_blocked_id,\r\n        edit_seasonal_name: blocked_data.seasonal_name,\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n        seasonal_name: this.state.unavailable_name\r\n      };\r\n    }\r\n    else {\r\n      data = {\r\n        room_id: this.props.match.params.room_id,\r\n        reservation_id: 0,\r\n        reserveid: 0,\r\n        edit_seasonal_name: '',\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n        seasonal_name: this.state.unavailable_name\r\n      };\r\n    }\r\n\r\n    roomsService.saveUnavailableDates(room_id, {data}).then(res => {\r\n      if (res && res.success === 'true') {\r\n        this.closeReservationModal();\r\n        this.bookingCalendarInit();\r\n        alertService.showSuccess('Save Booking Blocked', 'Successfully!');\r\n      }\r\n      else {\r\n        let error_message = \"\";\r\n        Object.keys(res.errors).map((key, index) => {\r\n          return (error_message += res.errors[key] + '<br>');\r\n        })\r\n        alertService.showError('Save Booking Blocked', 'Not Success!');\r\n      }\r\n      this.clearSaveStatus();\r\n    }).catch(() => {\r\n      alertService.showError('Save Booking Blocked', 'Not Success!');\r\n      this.clearSaveStatus();\r\n    });\r\n  }\r\n\r\n  handleBookingReservation (e) {\r\n    this.setSaveStatus();\r\n    e.preventDefault();\r\n\r\n    const room_id = this.props.match.params.room_id;\r\n    let data = {};\r\n\r\n    if (this.state.edit_reservation) {\r\n      let reservation_data = this.state.month_calendar_data.reservation_detail[this.state.edit_reservation_index];\r\n      reservation_data.seasonal_name = \r\n        reservation_data.seasonal_name === '' || \r\n        reservation_data.seasonal_name === undefined || \r\n        reservation_data.seasonal_name === null ? \r\n        \"no name\" : \r\n        reservation_data.seasonal_name;\r\n      \r\n      data = {\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n        seasonal_name: this.state.reservation_name,\r\n        edit_seasonal_name: reservation_data.seasonal_name,\r\n        notes: this.state.reservation_notes,\r\n        reservation_source: 'Calendar',\r\n        price: this.state.reservation_price ? this.state.reservation_price : 0,\r\n        guests: this.state.reservation_guests ? this.state.reservation_guests : 0,\r\n        reservation_id: this.state.edit_reservation_id,\r\n        reserveid: reservation_data.reserveid,\r\n      };\r\n    }\r\n    else {\r\n      data = {\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        reservation_id: 0,\r\n        reserveid: 0,\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n        seasonal_name: this.state.reservation_name,\r\n        edit_seasonal_name: '',\r\n        notes: this.state.reservation_notes,\r\n        reservation_source: 'Calendar',\r\n        price: this.state.reservation_price !== '' ? this.state.reservation_price : 0,\r\n        guests: this.state.reservation_guests !== '' ? this.state.reservation_guests : 0\r\n      };\r\n    }\r\n\r\n    roomsService.saveReservation(room_id, data).then(res => {\r\n      if (res && res.success === 'true') {\r\n        this.closeReservationModal();\r\n        this.bookingCalendarInit();\r\n        alertService.showSuccess('Save Reservation', 'Successfully!');\r\n      }\r\n      else {\r\n        let error_message = \"\";\r\n        Object.keys(res.errors).map((key, index) => {\r\n          return (error_message += res.errors[key] + '<br>');\r\n        });\r\n        alertService.showError('Save Reservation', 'Not Success!');\r\n      }\r\n      this.clearSaveStatus();\r\n    }).catch(() => {\r\n      alertService.showError('Save Reservation', 'Not Success!');\r\n      this.clearSaveStatus();\r\n    });\r\n  }\r\n\r\n  handleBookingSeasonal (e) {\r\n    this.setSaveStatus();\r\n    e.preventDefault();\r\n\r\n    const room_id = this.props.match.params.room_id;\r\n    let data = {};\r\n\r\n    if (this.state.edit_season) {\r\n      let seasonal_data = this.state.month_calendar_data.seasonal_price_detail[this.state.edit_season_index];\r\n      seasonal_data.seasonal_name = \r\n        seasonal_data.seasonal_name === '' || \r\n        seasonal_data.seasonal_name === undefined || \r\n        seasonal_data.seasonal_name === null ? \r\n        \"no name\" : \r\n        seasonal_data.seasonal_name;\r\n\r\n      data = {\r\n        guests: this.state.seasonal_guests,\r\n        created_at: seasonal_data.created_at,\r\n        updated_at: seasonal_data.updated_at,\r\n        id: this.state.edit_season_id,\r\n        notes: null,\r\n        room_id: this.props.match.params.room_id,\r\n        rateId: seasonal_data.rateId,\r\n        edit_seasonal_name: seasonal_data.seasonal_name,\r\n        additional_guest: this.state.seasonal_guests,\r\n        week: this.state.seasonal_week !== '' ? this.state.seasonal_week : 0,\r\n        month: this.state.seasonal_month !== '' ? this.state.seasonal_month : 0,\r\n        weekend: this.state.seasonal_weekend !== '' ? this.state.seasonal_weekend : 0,\r\n        seasonal_name: this.state.seasonal_name,\r\n        price: this.state.seasonal_price !== '' ? this.state.seasonal_price : 0,\r\n        minimum_stay: this.state.seasonal_minimum_stay !== '' ? this.state.seasonal_minimum_stay : 0,\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n      };\r\n    }\r\n    else {\r\n      data = {\r\n        room_id: this.props.match.params.room_id,\r\n        edit_seasonal_name: this.state.seasonal_name,\r\n        additional_guest: this.state.seasonal_guests,\r\n        rateId: 0,\r\n        id: 0,\r\n        week: this.state.seasonal_week,\r\n        month: this.state.seasonal_month,\r\n        weekend: this.state.seasonal_weekend,\r\n        seasonal_name: this.state.seasonal_name,\r\n        price: this.state.seasonal_price,\r\n        minimum_stay: this.state.seasonal_minimum_stay,\r\n        start_date: Utils._.formatYmdDate(this.state.startDate),\r\n        end_date: Utils._.formatYmdDate(this.state.endDate),\r\n      };\r\n    }\r\n\r\n    roomsService.saveSeasonalPrice(room_id, {data}).then(res => {\r\n      if (res && res.success === 'true') {\r\n        this.closeReservationModal();\r\n        this.bookingCalendarInit();\r\n       alertService.showSuccess('Save Seasnal Prices', 'Successfully!');\r\n      } else {\r\n        let error_message = \"\";\r\n        Object.keys(res.errors).map((key, index) => {\r\n          return (error_message += res.errors[key] + '<br>');\r\n        })\r\n        alertService.showError('Save Seasnal Prices', 'Not Success!');\r\n      }\r\n      this.clearSaveStatus();\r\n    }).catch(error => {\r\n      alertService.showError('Save Seasnal Prices', 'Not Success!');\r\n      this.clearSaveStatus();\r\n    });\r\n\r\n  }\r\n  handleStartDatePickerChange (date) {\r\n    this.setState({\r\n      startDate: date\r\n    });\r\n  }\r\n  handleEndDatePickerChange (date) {\r\n    this.setState({\r\n      endDate: date\r\n    });\r\n  }\r\n\r\n  onSelectedRange (start_date, end_date) {\r\n    this.setState({\r\n      startDate: start_date,\r\n      endDate: end_date\r\n    })\r\n    this.openReservationModal();\r\n  }\r\n\r\n  openReservationModal () {\r\n    this.setState({ open_modal: true });\r\n  }\r\n  closeReservationModal () {\r\n    this.setState({\r\n      open_modal: false,\r\n      edit_season: false,\r\n      edit_blocked: false,\r\n      edit_reservation: false,\r\n      tabIndex: 0\r\n    }, () => {\r\n      this.resetHandler()\r\n    })\r\n  }\r\n\r\n  handleChangeModal (e) {\r\n    e.preventDefault();\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  }\r\n\r\n  handleEditSeasonal (index, value) {\r\n    let seasonal_data = this.state.month_calendar_data.seasonal_price_detail[index];\r\n    this.setState({\r\n      startDate: Utils._.parseDateStr(seasonal_data.start_date),\r\n      endDate: Utils._.parseDateStr(seasonal_data.end_date),\r\n      edit_season: true,\r\n      edit_season_index: index,\r\n      edit_season_id: value,\r\n      open_modal: true,\r\n      tabIndex: 1,\r\n\r\n      seasonal_name: seasonal_data.seasonal_name,\r\n      seasonal_price: seasonal_data.price,\r\n      seasonal_guests: seasonal_data.guests,\r\n      seasonal_week: seasonal_data.week,\r\n      seasonal_month: seasonal_data.month,\r\n      seasonal_weekend: seasonal_data.weekend,\r\n      seasonal_minimum_stay: seasonal_data.minimum_stay,\r\n    });\r\n  }\r\n  handleRemoveSeasonal (index, value) {\r\n    const room_id = this.props.match.params.room_id;\r\n    roomsService.deleteSeasonalPrice(room_id, {seasonal_id: value}).then(res => {\r\n      if (res && res.status === 'success') {\r\n        alertService.showSuccess(\"Remove Seasonal\", \"Successfully!\");\r\n        this.bookingCalendarInit();\r\n      } else {\r\n        alertService.showError(\"Remove Seasonal\", \"Not Success!\");\r\n      }\r\n      this.closeRemoveModal();\r\n    }).catch(error => {\r\n      this.closeRemoveModal();\r\n      alertService.showError(\"Remove Seasonal\", \"Not Success!\");\r\n    });\r\n  }\r\n\r\n  handleRemoveBlocked (index, value) {\r\n    const room_id = this.props.match.params.room_id;\r\n    const blocked_data = this.state.month_calendar_data.not_available_dates[index];\r\n    const data = {\r\n      season_name: blocked_data.seasonal_name,\r\n      reservation_id: blocked_data.id,\r\n      reserveid: blocked_data.reserveid,\r\n      start_date: blocked_data.start_date,\r\n      end_date: blocked_data.end_date\r\n    };\r\n\r\n    roomsService.deleteUnavailableDays(room_id, data).then(res => {\r\n      if (res.success === 'true') {\r\n        alertService.showSuccess(\"Remove Blocked\", \"Successfully!\");\r\n        this.bookingCalendarInit();\r\n      } else {\r\n        alertService.showError(\"Remove Blocked\", \"Not Success!\");\r\n      }\r\n      this.closeRemoveModal();\r\n    }).catch(error => {\r\n      this.closeRemoveModal();\r\n      alertService.showError(\"Remove Blocked\", \"Not Success!\");\r\n    });\r\n  }\r\n  handleEditBlocked (index, value) {\r\n    let blocked_data = this.state.month_calendar_data.not_available_dates[index]\r\n    this.setState({\r\n      tabIndex: 2,\r\n      open_modal: true,\r\n      unavailable_name: blocked_data.seasonal_name,\r\n      edit_blocked: true,\r\n      edit_blocked_index: index,\r\n      edit_blocked_id: value,\r\n      reserveid: blocked_data.reserveid,\r\n      reservation_id: blocked_data.reservation_id,\r\n      startDate: Utils._.parseDateStr(blocked_data.start_date),\r\n      endDate: Utils._.parseDateStr(blocked_data.end_date),\r\n    })\r\n  }\r\n\r\n  handleRemoveReservation (index, value) {\r\n    const room_id = this.props.match.params.room_id;\r\n    const reservation_data = this.state.month_calendar_data.reservation_detail[index];\r\n    const data = {\r\n      season_name: reservation_data.seasonal_name,\r\n      reservation_id: reservation_data.id,\r\n      reserveid: reservation_data.reserveid,\r\n      start_date: reservation_data.start_date,\r\n      end_date: reservation_data.end_date\r\n    };\r\n\r\n    roomsService.deleteReservation(room_id, data).then(res => {\r\n      if (res.success === true) {\r\n        alertService.showSuccess(\"Remove Reservation\", \"Successfully!\");\r\n        this.bookingCalendarInit();\r\n      } else {\r\n        alertService.showError(\"Remove Reservation\", \"Not Success!\");\r\n      }\r\n      this.closeRemoveModal();\r\n    }).catch(error => {\r\n      this.closeRemoveModal();\r\n      alertService.showError(\"Remove Reservation\", \"Not Success!\");\r\n    });\r\n  }\r\n  handleEditReservation (index, value) {\r\n    let reservation_data = this.state.month_calendar_data.reservation_detail[index]\r\n    this.setState({\r\n      reservation_name: reservation_data.seasonal_name,\r\n      reservation_price: reservation_data.price,\r\n      reservation_guests: reservation_data.guests,\r\n      reservation_notes: reservation_data.notes,\r\n      reserveid: reservation_data.reserveid,\r\n      startDate: Utils._.parseDateStr(reservation_data.start_date),\r\n      endDate: Utils._.parseDateStr(reservation_data.end_date),\r\n      edit_reservation: true,\r\n      open_modal: true,\r\n      tabIndex: 0,\r\n      edit_reservation_id: value,\r\n      edit_reservation_index: index\r\n    });\r\n  }\r\n\r\n  closeRemoveModal() {\r\n    this.setState({\r\n      open_yesno_mdl: false,\r\n      on_removing: false\r\n    });\r\n  }\r\n  setRemoveStatus() {\r\n    this.setState({on_removing: true});\r\n  }\r\n  setSaveStatus() {\r\n    this.setState({on_saving: true});\r\n  }\r\n  clearSaveStatus() {\r\n    this.setState({on_saving: false});\r\n  }\r\n  handleRemove () {\r\n    if (this.state.alert_type === 1) {\r\n      this.handleRemoveSeasonal(this.state.alert_index, this.state.alert_value);\r\n    }\r\n    else if (this.state.alert_type === 2) {\r\n      this.handleRemoveReservation(this.state.alert_index, this.state.alert_value);\r\n    }\r\n    else if (this.state.alert_type === 3) {\r\n      this.handleRemoveBlocked(this.state.alert_index, this.state.alert_value);\r\n    }\r\n    this.setRemoveStatus();\r\n  }\r\n  handleRemoveModal(type, index, value) {\r\n    let alert_title = 0;\r\n    let alert_content = '';\r\n    switch (type) {\r\n      case 1:\r\n        alert_title = 'Seasonal';\r\n        alert_content = 'Would you like to remove this Seasonal?';\r\n        break;\r\n      case 2:\r\n        alert_title = 'Reservation';\r\n        alert_content = 'Would you like to remove this Reservation?';\r\n        break;\r\n      case 3:\r\n        alert_title = 'Blocked';\r\n        alert_content = 'Would you like to remove this Blocked?';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    this.setState({ \r\n      open_yesno_mdl: true,\r\n      alert_title: alert_title,\r\n      alert_content: alert_content,\r\n      alert_type: type,\r\n      alert_index: index,\r\n      alert_value: value,\r\n      on_removing: false\r\n    });\r\n  }\r\n  handleEdit (type, index, value) {\r\n    if (type === 1) {\r\n      this.handleEditSeasonal(index, value);\r\n    }\r\n    else if (type === 2) {\r\n      this.handleEditReservation(index, value);\r\n    }\r\n    else if (type === 3) {\r\n      this.handleEditBlocked(index, value);\r\n    }\r\n  }\r\n  render () {\r\n    let { month_calendar_data } = this.state;\r\n    const seasonal_columns = [\r\n      {\r\n        Header: 'Name',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'seasonal_name', // String-based value accessors!,\r\n        minWidth: 150,\r\n        Cell: props => <div className=\"w-100\">\r\n          <div className=\"row col-md-12\">\r\n            <strong className=\"mx-auto\">{props.value}</strong> </div>\r\n          <div className=\"row col-md-12\"><span className=\"mx-auto\">({Utils._.momentUtcFormatDate(props.original.start_date)} - {Utils._.momentUtcFormatDate(props.original.end_date)})</span></div>\r\n        </div>\r\n      }, {\r\n        Header: 'Nightly',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'price',\r\n        Cell: props => <span className='text-center'>{month_calendar_data && month_calendar_data.rooms_price ? <span dangerouslySetInnerHTML={{ __html: month_calendar_data.rooms_price.currency.symbol }}></span> : '$'}<strong>{props.value}</strong></span> // Custom cell components!\r\n      }, {\r\n        Header: 'Weekly',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'week',\r\n        Cell: props => <span className='text-center'>{month_calendar_data && month_calendar_data.rooms_price ? <span dangerouslySetInnerHTML={{ __html: month_calendar_data.rooms_price.currency.symbol }}></span> : '$'}<strong>{props.value}</strong></span> // Custom cell components!\r\n      }, {\r\n        Header: 'Monthly',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'month',\r\n        Cell: props => <span className='text-center'>{month_calendar_data && month_calendar_data.rooms_price ? <span dangerouslySetInnerHTML={{ __html: month_calendar_data.rooms_price.currency.symbol }}></span> : '$'}<strong>{props.value}</strong></span> // Custom cell components!\r\n      }, {\r\n        Header: 'Min. Stay',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'minimum_stay',\r\n        Cell: props => <span className='text-center'> <strong>{props.value}</strong>Nights</span> // Custom cell components!\r\n      }, {\r\n        Header: 'Action',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'id',\r\n        Cell: props => {\r\n          return <div>\r\n            <Link to=\"#\" className=\"table_edit\" onClick={() => this.handleEditSeasonal(props.index, props.value)}><i className=\"fa fa-edit\"></i></Link>\r\n            <Link to=\"#\" className=\"delete_details delete_seasonal\" onClick={() => this.handleRemoveSeasonal(props.index, props.value)}><i className=\"fa fa-trash\"></i></Link>\r\n          </div>\r\n        }\r\n      }\r\n    ];\r\n    const blocked_columns = [\r\n      {\r\n        Header: 'Date Name',\r\n        minWidth: 300,\r\n        accessor: 'seasonal_name',\r\n        Cell: props => <div className=\"w-100\">\r\n          <div className=\"row col-md-12\">\r\n            <strong className=\"mx-auto\">{props.value}</strong> </div>\r\n          <div className=\"row col-md-12\"><span className=\"mx-auto\">({Utils._.momentUtcFormatDate(props.original.start_date)} - {Utils._.momentUtcFormatDate(props.original.end_date)})</span></div>\r\n        </div>\r\n      },\r\n      {\r\n        Header: 'Action',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'id',\r\n        Cell: props => <div>\r\n          {/* <Link to=\"#\" className=\"table_edit\" onClick={() => this.handleEditBlocked(props.index, props.value)}><i className=\"fa fa-edit\"></i></Link> */}\r\n          {/* <Link to=\"#\" className=\"delete_details delete_seasonal\" onClick={() => this.handleRemoveBlocked(props.index, props.value)}><i className=\"fa fa-trash\"></i></Link> */}\r\n        </div>\r\n      }\r\n    ]\r\n    const reservation_columns = [\r\n      {\r\n        Header: 'Name',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'seasonal_name',\r\n        minWidth: 150,\r\n        Cell: props => <div className=\"w-100\">\r\n          <div className=\"row col-md-12\">\r\n            <strong className=\"mx-auto\">{props.value}</strong> </div>\r\n          <div className=\"row col-md-12\"><span className=\"mx-auto\">({Utils._.momentUtcFormatDate(props.original.start_date)}-{Utils._.momentUtcFormatDate(props.original.end_date)})</span></div>\r\n        </div>\r\n      },\r\n      {\r\n        Header: 'Price',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'price',\r\n        Cell: props => <span className='text-center'>{month_calendar_data && month_calendar_data.rooms_price ? <span dangerouslySetInnerHTML={{ __html: month_calendar_data.rooms_price.currency.symbol }}></span> : '$'}<strong>{props.value}</strong></span> // Custom cell components!\r\n      },\r\n      {\r\n        Header: 'Guests',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'guests'\r\n      },\r\n      {\r\n        Header: 'Nights',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        maxWidth: 150,\r\n        accessor: 'duration'\r\n      },\r\n\r\n      {\r\n        Header: 'Action',\r\n        style: { width: '100%', textAlign: 'center' },\r\n        accessor: 'id',\r\n        Cell: props => <div>\r\n          <Link to=\"#\" className=\"table_edit\" onClick={() => this.handleEditReservation(props.index, props.value)}><i className=\"fa fa-edit\"></i></Link>\r\n          <Link to=\"#\" className=\"delete_details delete_seasonal\" onClick={() => this.handleRemoveReservation(props.index, props.value)}><i className=\"fa fa-trash\"></i></Link>\r\n        </div>\r\n      }\r\n\r\n\t\t]\r\n\t\t\r\n\t\tconst import_calendar_modal = (\r\n\t\t\t<Modal\r\n\t\t\t\topen={this.state.open_import_modal}\r\n\t\t\t\tstyles={{ modal: { padding: '0px' } }}\r\n\t\t\t\tonClose={() => { this.setState({ open_import_modal: false }) }}>\r\n\t\t\t\t<div className=\"panel import-calendar\">\r\n\t\t\t\t\t<div className=\"panel-header\">\r\n\t\t\t\t\t\t<span>Import a New Calendar</span>\r\n\t\t\t\t\t\t<Link to=\"#\" data-behavior=\"modal-close\" className=\"modal-close\" onClick={() => { this.setState({ open_import_modal: false }) }}>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"panel-body\">\r\n\t\t\t\t\t\t<p style={{ marginBottom: '20px' }}>\r\n\t\t\t\t\t\t\t<span>Import other calendars you use and we’ll automatically keep this listing’s availability up-to-date.</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<form method=\"POST\" onSubmit={this.handeImportCalendarAction} acceptCharset=\"UTF-8\" name=\"export\" id=\"feed_import_form\" className=\"ng-pristine ng-valid\">\r\n\t\t\t\t\t\t\t<div className=\"content\">\r\n                <label style={{ marginBottom: '20px' }}>\r\n                  <p style={{ marginBottom: '10px' }} className=\"label\">\r\n                    <span>Calendar Address (URL)</span>\r\n                  </p>\r\n                  <input type=\"text\" name=\"ical_url\" value={this.state.ical_url} onChange={this.handleChangeModal} placeholder=\"Paste calendar address (URL) here\" className=\"space-1 \" />\r\n                  <span className=\"text-danger\" />\r\n                </label>\r\n                <label style={{ marginBottom: 0 }}>\r\n                  <p style={{ marginBottom: '10px' }} className=\"label\">\r\n                    <span>Name Your Calendar</span>\r\n                  </p>\r\n                  <input type=\"text\" name=\"ical_name\" value={this.state.ical_name} onChange={this.handleChangeModal} placeholder=\"Custom name for this calendar\" className=\"space-1 \" />\r\n                  <span className=\"text-danger\" />\r\n                </label>\r\n              </div>\r\n              \r\n\t\t\t\t\t\t\t<div className=\"d-inline-block\" style={{ marginTop: '20px' }}>\r\n\t\t\t\t\t\t\t\t<button id=\"feed_import_btn\" data-prevent-default=\"true\" className=\"btn btn-primary\" ng-disabled=\"export.$invalid\">\r\n\t\t\t\t\t\t\t\t\t<span>Import Calendar</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"loading global-ajax-form-loader\" style={{ visibility: 'hidden' }} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\r\n\t\tconst export_calendar_modal = (\r\n\t\t\t<Modal\r\n\t\t\t\topen={this.state.open_export_modal}\r\n\t\t\t\tstyles={{ modal: { padding: '0px' } }}\r\n\t\t\t\tonClose={() => { this.setState({ open_export_modal: false }) }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"export-calendar panel\">\r\n\t\t\t\t\t<div className=\"panel-header\">\r\n\t\t\t\t\t\t<span>Export Calendar</span>\r\n\t\t\t\t\t\t<Link data-behavior=\"modal-close\" className=\"modal-close\" to=\"#\" onClick={() => { this.setState({ open_export_modal: false }) }}>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"panel-body\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<span>Copy and paste the link into other ICAL applications</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<input type=\"text\" defaultValue={`${window.location.origin}/calendar/ical/${this.props.match.params.room_id}`} readOnly />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\r\n\t\tconst reservation_modal = (\r\n\t\t\t<Modal\r\n\t\t\t\topen={this.state.open_modal}\r\n\t\t\t\tstyles={{ modal: { padding: '0px' }}}\r\n        className=\"reservation-modal\"\r\n\t\t\t\tonClose={() => this.closeReservationModal()}\r\n\t\t\t>\r\n\t\t\t\t<Tabs selectedIndex={this.state.tabIndex} onSelect={tabIndex => this.setState({ tabIndex })}>\r\n\t\t\t\t\t<TabList className=\"tabs tabba form-tab-header\">\r\n\t\t\t\t\t\t<h3 className=\"ml-0\">\r\n\t\t\t\t\t\t\tCalendar Settings\r\n            </h3>\r\n\t\t\t\t\t\t<Tab className=\"tab-item text-lead h5 mylists\">Reservation</Tab>\r\n\t\t\t\t\t\t<Tab className=\"tab-item text-lead h5 mylists\">Seasonal Rates</Tab>\r\n\t\t\t\t\t\t<Tab className=\"tab-item text-lead h5 mylists\">Blocked</Tab>\r\n\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<div className=\"seasonal_price\">\r\n\t\t\t\t\t\t\t<form id=\"reservation_form_t\" data-mode=\"create\" className=\" \" noValidate=\"novalidate\" onSubmit={this.handleBookingReservation}>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time datepicker-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Check in</label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleStartDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1 row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Check out </label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEndDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"check_date_err\" className=\"check_date_err\" style={{ display: 'none', color: 'red' }}>Your date is already in another reservation, you can cancel/delete it, select a new range of dates or edit the other reservation.</span>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-12 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Name   <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Each reservation name must be unique.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"reservation_name_t\" name=\"reservation_name\" value={this.state.reservation_name} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"err_msg\" style={{ display: 'none', color: 'red' }}>Reservation name already used</span>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Price </label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"reservation_price_t\" name=\"reservation_price\" value={this.state.reservation_price} onChange={this.handleChangeModal} className=\"  tooltipstered valid \" aria-invalid=\"false\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p data-error=\"price\" className=\"ml-error\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Number of Guests <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Number of guests for the reservation.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"number\" id=\"reservation_guests_t\" name=\"reservation_guests\" value={this.state.reservation_guests} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-12 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Note   <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Add additional notes to your reservation.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<textarea id=\"reservation_note_t\" name=\"reservation_notes\" value={this.state.reservation_notes} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"err_msg\" style={{ display: 'none', color: 'red' }}>Note required</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"btn-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"#\" className=\"day_cancel cancel_reservation d-none\" id=\"cancel_reservation_t\">Cancel</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 d-flex text-right\" style={{'alignItems': 'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"day_save\" type=\"submit\" id=\"save_reservation_t\" name=\"save\">Save</button>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"#\" className=\"day_delete d-none delete_reservation mt-2\" id=\"delete_reservation_t\">Delete</Link>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t(this.state.on_saving) ?\r\n\t\t\t\t\t\t\t\t\t\t\t(<div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Removing...</span></div>)\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"loading global-ajax-form-loader\" style={{ visibility: 'hidden' }} />\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<form id=\"season_form_t\" data-mode=\"create\" className=\" \" noValidate=\"novalidate\" onSubmit={this.handleBookingSeasonal}>\r\n\t\t\t\t\t\t\t<div className=\"seasonal_price\">\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time datepicker-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"room_id\" defaultValue={11475} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Start Date </label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleStartDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1 row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">End Date </label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEndDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"check_date_err\" className=\"check_date_err\" style={{ display: 'none', color: 'red' }}>Your date is already in another season, you can mark it as closed, select a new range of dates or update the other added season.</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-12 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Season Name   <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Each seasonal name must be unique.  If this is an annual or recurring season, try appending the year to the end of the name (i.e. Summer 2018, Summer 2019, etc\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"season_name_t\" name=\"seasonal_name\" value={this.state.seasonal_name} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"err_msg\" style={{ display: 'none', color: 'red' }}>Season name Already used</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Price </label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_price_t\" name=\"seasonal_price\" value={this.state.seasonal_price} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p data-error=\"price\" className=\"ml-error\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Price for extra Guest <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Extra cost per guest per day\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_additional_price_t\" name=\"seasonal_guests\" value={this.state.seasonal_guests} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\"> Weekly Price <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Rate is based on a 7 night stay, each additional night is billed at the standard nightly rate up until the next 7 nights is reached for a single reservation.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\" ng-init=\"season_data.week=0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_week_t\" name=\"seasonal_week\" value={this.state.seasonal_week} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p data-error=\"week\" className=\"ml-error\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Monthly Price <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Rate is based on a 30 night stay.  Each additional night is billed at the nightly rate, then weekly rate, until the next 30 nights is reached for a single reservation.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\" ng-init=\"season_data.month=0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_month_t\" name=\"seasonal_month\" value={this.state.seasonal_month} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p data-error=\"month\" className=\"ml-error\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\" >\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Weekend Price <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Rate charged for weekend reservations.  Please note, if a reservation includes both a weekday & weekend your listing rate will be displayed as an average of the base nightly rate and the weekend rate.\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"price_doller\" dangerouslySetInnerHTML={{ __html: this.state.month_calendar_data.rooms_price ? this.state.month_calendar_data.rooms_price.currency.original_symbol : '$' }}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_weekend_t\" name=\"seasonal_weekend\" value={this.state.seasonal_weekend} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Minimum Stay   <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Minimum amount of nights required for a reservation\" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"pricelist\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"seasonal_minimum_stay_t\" name=\"seasonal_minimum_stay\" value={this.state.seasonal_minimum_stay} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"btn-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t<button className={`day_cancel cancel_reservation   d-none `} type=\"button\" id=\"cancel_season_t\">Cancel</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 d-flex text-right\" style={{'align-items': 'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"day_save\" type=\"submit\" id=\"save_season_t\" name=\"save\">Save</button>\r\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className={`    d-none   day_save delete_seasonal mt-2 bg-danger ml-2`} id=\"delete_season_t\">Delete</button>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t(this.state.on_saving) ?\r\n\t\t\t\t\t\t\t\t\t\t\t(<div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Removing...</span></div>)\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"loading global-ajax-form-loader\" style={{ visibility: 'hidden' }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</TabPanel>\r\n\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<form id=\"unavailable_form_t\" data-mode=\"create\" className=\" \" noValidate=\"novalidate\" onSubmit={this.handleBookingBlocked} >\r\n\t\t\t\t\t\t\t<div className=\"seasonal_price\">\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time datepicker-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"room_id\" defaultValue={11475} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Start Date </label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.startDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleStartDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 ses_pop1 row\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">End Date </label>\r\n\t\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\t\tselected={this.state.endDate}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleEndDatePickerChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"check_date_err\" className=\"check_date_err\" style={{ display: 'none', color: 'red' }}>Your date is already in another reservation or blocked date range, you can select a new range of dates or update the other added reservation/blocked date range.</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"ses_time\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 col-sm-12 col-12 ses_pop1\">\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"h6 my-auto\">Name <i rel=\"tooltip\" className=\"icon icon-question\" title=\"Each blocked date range must be unique.  Please note:  guests cannot checkin or checkout on the start/end dates of a blocked date range. \" /></label>\r\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" id=\"unavailable_name_t\" name=\"unavailable_name\" value={this.state.unavailable_name} onChange={this.handleChangeModal} className=\"tooltipstered\" />\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-md-12'> <b className=\"text-danger\">*</b> Required Field</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span id=\"err_msg\" style={{ display: 'none', color: 'red' }}>Season name Already used</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"btn-group d-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"#\" className=\"day_cancel cancel_reservation d-none\" id=\"cancel_unavailable_t\">Cancel</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 col-sm-6 col-6 d-flex text-right\" style={{'align-items': 'center'}}>\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"day_save\" type=\"submit\" id=\"save_unavailable_t\" name=\"save\">Save</button>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"#\" className=\"day_delete d-none delete_not_available mt-2\" id=\"delete_unavailable_t\">Delete</Link>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t(this.state.on_saving) ?\r\n\t\t\t\t\t\t\t\t\t\t\t(<div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Removing...</span></div>)\r\n\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"loading global-ajax-form-loader\" style={{ visibility: 'hidden' }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\r\n\t\tconst yes_no_modal = (\r\n\t\t\t<Modal \r\n\t\t\t\topen={ this.state.open_yesno_mdl } \r\n\t\t\t\tonClose={()=>this.setState({open_yesno_mdl : false})} \r\n\t\t\t\tstyles={{ modal : { padding : '0px'} }} \r\n\t\t\t\tcenter\r\n\t\t\t>\r\n\t\t\t\t<div className=\"modal-header reservation-remove\">\r\n\t\t\t\t\t<h4>{this.state.alert_title}</h4>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"modal-body d-flex reservation-remove\">\r\n\t\t\t\t\t<p>{this.state.alert_content}</p>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t(this.state.on_removing) ?\r\n\t\t\t\t\t\t(<div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Removing...</span></div>)\r\n\t\t\t\t\t\t: null\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"modal-footer reservation-remove\">\r\n\t\t\t\t\t<button className=\"btn btn-info btn-cancel\" onClick={() => this.setState({open_yesno_mdl : false})}> \r\n\t\t\t\t\t\tCancel \r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className=\"btn btn-danger btn-remove\" onClick={() => this.handleRemove()}> \r\n\t\t\t\t\t\tRemove \r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t)\r\n\r\n    return (\r\n      <div className=\"room-calendar manage-listing-content-wrapper clearfix\">\r\n        {import_calendar_modal}\r\n\t\t\t\t{export_calendar_modal}\r\n\t\t\t\t{reservation_modal}\r\n\t\t\t\t{yes_no_modal}\r\n        <ManageRoomHeader\r\n          title=\"Listing Availability\" \r\n          descr=\"Use the calendar below to restrict your listing availability and create custom seasonal pricing for specific dates.\" \r\n          />\r\n        <div className=\"row d-flex m-0\" style={{paddingRight: '15px'}}>\r\n          <div className=\"listing_whole col-md-9\" id=\"js-manage-listing-content\">\r\n            <div className=\"common_listpage\">\r\n              <div className=\"content_right w-100\">\r\n                {/* roomId */}\r\n                <Link to={`/rooms/manage/${this.props.match.params.room_id}/terms`} className=\"right_save\" >Next</Link>\r\n                <Link to=\"#\" className=\"right_save\" onClick={this.handleImportCalendar}> Import </Link>\r\n                <Link to=\"#\" className=\" right_save_continue\" onClick={this.handleExportCalendar}>Export </Link>\r\n                {/* <Link to=\"/manage/terms\" className=\"right_save_continue\" >Next</to> */}\r\n              </div>\r\n              <div >\r\n                <BookingCalendar \r\n                  parentHandleEdit={this.handleEdit.bind(this)} \r\n                  resetDateRange={click => this.resetHandler = click} \r\n                  calendarData={month_calendar_data} \r\n                  updateCurrentMonth={month => { this.setState({ currentMonth: month }, () => { this.bookingCalendarInit() }) }}\r\n                  seasonal_calendar={this.state.seasonal_calendar} \r\n                  unavailable_dates={this.state.unavailable_dates}\r\n                  onSelectedRange={(start_date, end_date) => this.onSelectedRange(start_date, end_date)} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-3 import_calander border-left\">\r\n            {/* Reservation */}\r\n            <div className=\"row\">\r\n              <div className=\"p-header-line col-sm-12\">\r\n                <FontAwesomeIcon className=\"book-mark\" icon={faBook} />\r\n                <p className=\"p-title\">Reservation </p>\r\n              </div>\r\n              <div className=\"col-sm-12 p-0\">\r\n                <RatePanel\r\n                  data={month_calendar_data && month_calendar_data.reservation_detail ? month_calendar_data.reservation_detail : []}\r\n                  columns={reservation_columns}\r\n                  type={2}\r\n                  handleEdit={this.handleEdit.bind(this)}\r\n                  handleRemove={this.handleRemoveModal.bind(this)}\r\n                  namefield='Name'\r\n                  propertyname='Nights'\r\n                  propertyid='duration'\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* Seasonal Rates */}\r\n            <div className=\"row\">\r\n              <div className=\"p-header-line col-sm-12\">\r\n                <FontAwesomeIcon className=\"book-mark\" icon={faBook} />\r\n                <p className=\"p-title\">Seasonal Rates </p>\r\n              </div>\r\n              <div className=\"col-sm-12 p-0\">\r\n                <RatePanel\r\n                  data={month_calendar_data && month_calendar_data.seasonal_price_detail ? month_calendar_data.seasonal_price_detail : []}\r\n                  columns={seasonal_columns}\r\n                  type={1}\r\n                  handleEdit={this.handleEdit.bind(this)}\r\n                  handleRemove={this.handleRemoveModal.bind(this)}\r\n                  namefield='Seasonal Name'\r\n                  propertyname='Rates'\r\n                  propertyid='price'\r\n                >\r\n                </RatePanel>\r\n\r\n              </div>\r\n            </div>\r\n            {/* Blocked */}\r\n            <div className=\"row\">\r\n              <div className=\"p-header-line col-sm-12\">\r\n                <FontAwesomeIcon className=\"book-mark\" icon={faBook} />\r\n                <p className=\"p-title\">Blocked </p>\r\n              </div>\r\n              <div className=\"col-sm-12 p-0\">\r\n                <RatePanel\r\n                  data={month_calendar_data && month_calendar_data.not_available_dates ? month_calendar_data.not_available_dates : []}\r\n                  columns={blocked_columns}\r\n                  type={3}\r\n                  handleRemove={this.handleRemoveModal.bind(this)}\r\n                  handleEdit={this.handleEdit.bind(this)}\r\n                  namefield='Title'\r\n                  propertyname='Days'\r\n                  propertyid='duration'\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RoomCalendar;\r\n","import React from 'react';\r\n\r\nclass ManageRoomHeader extends React.Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  render() {\r\n    const {title, descr, room_id, prev, next} = this.props;\r\n\r\n    return (\r\n      <div className=\"content_show\">\r\n        <div className=\"content_showhead\">\r\n          <h1>{title}</h1>\r\n          <p>{descr}</p>\r\n        </div>\r\n        <div className=\"content_right\">\r\n          {prev && <a href={`/rooms/manage/${room_id}/${prev}`} className=\"right_save\">Back</a>}\r\n          {next && <a href={`/rooms/manage/${room_id}/${next}`} className=\"right_save_continue ml-1\" >Next</a>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageRoomHeader;"],"sourceRoot":""}