(this["webpackJsonpvocation-frontend"]=this["webpackJsonpvocation-frontend"]||[]).push([[39],{1258:function(e,a,t){"use strict";t.r(a);var n=t(4),o=t(5),r=t(10),c=t(9),s=t(3),i=t(11),l=t(0),u=t.n(l),d=t(23),m=t(87),b=t(15),h=(t(394),function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={page_data:[]},t.handleChangeStatus=t.handleChangeStatus.bind(Object(s.a)(t)),t.handlePublish=t.handlePublish.bind(Object(s.a)(t)),t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.getRoomList().then((function(a){a?e.setState({page_data:a.page_data}):b.a.showError("Get Room List")}))}},{key:"handleChangeStatus",value:function(e,a){a.preventDefault();var t=a.target.value,n=this.state.page_data.rooms_list.filter((function(a){return a.id===e}));n=this.state.page_data.rooms_list.indexOf(n[0]);var o=this.state.page_data;o.rooms_list[n].status=t,o.rooms_list[n].published="unpublished",this.setState({page_data:o})}},{key:"handlePublish",value:function(e,a){var t=this;a.preventDefault();var n=this.state.page_data.rooms_list.filter((function(a){return a.id===e})),o=(n=this.state.page_data.rooms_list.indexOf(n[0]))[0],r=this.state.page_data;m.a.changeRoomState({list_id:e,status:o.status}).then((function(e){"success"===e.data.status?(d.b.success(e.data.message,{position:d.b.POSITION.TOP_CENTER}),r.rooms_list[n].published="published",t.setState({page_data:r})):b.a.showError("Change Room State")}))}},{key:"addBaId",value:function(e,a){var t=this,n=this.state.page_data;m.a.getRoomData(n.rooms_list[e].id,n.rooms_list[e].ba_roomid).then((function(e){!0===e.success?(b.a.showSuccess(e.message),m.a.getRoomList().then((function(e){e?t.setState({page_data:e.page_data}):b.a.showError("Get Room List")}))):b.a.showError(e.message)}))}},{key:"onChangeInput",value:function(e,a){this.state.page_data.rooms_list[e].ba_roomid=a.target.value}},{key:"render",value:function(){var e=this,a=this.state.page_data,t=[];return a.rooms_list&&a.rooms_list.length&&a.rooms_list.map((function(a,n){var o=u.a.createElement("li",{key:n},u.a.createElement("div",{className:"row",key:n},u.a.createElement("div",{className:"col-lg-2 col-md-3"},u.a.createElement("a",{href:"/homes/".concat(a.address_url,"/").concat(a.id),target:"_blank",rel:"noopener noreferrer"},u.a.createElement("div",{className:"media-cover text-center"},u.a.createElement("img",{src:a.featured_image,className:"img-responsive",alt:""})))),u.a.createElement("div",{className:"col-lg-10 col-md-9"},u.a.createElement("span",{className:"list-ink"},u.a.createElement("a",{href:"/homes/".concat(a.address_url,"/").concat(a.id),target:"_blank",rel:"noopener noreferrer"},a.name)),null===a.ba_roomid||""===a.ba_roomid?u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"form-group"},u.a.createElement("input",{name:"".concat(a.id),defaultValue:"",onChange:function(a){return e.onChangeInput(n,a)},"aria-label":"Room ID"})),u.a.createElement("button",{className:"btn btn-info",onClick:function(a){return e.addBaId(n,a)}},"Add ",a.ba_roomid)):u.a.createElement("div",{className:"form-group"},u.a.createElement("div",{className:"form-group"},u.a.createElement("input",{name:"".concat(a.id),defaultValue:"".concat(a.ba_roomid),disabled:!0,"aria-label":"Room ID"})),u.a.createElement("span",{className:"alert alert-success"},"Linked")))));return t.push(o)})),u.a.createElement("div",{className:"ba-panel"},u.a.createElement("div",{className:"aside-main-content"},u.a.createElement("div",{className:"side-cnt"},u.a.createElement("div",{className:"head-label"},u.a.createElement("h4",null,"Add Booking Automation room id for each room")),u.a.createElement("div",{className:"aside-main-cn"},u.a.createElement("div",{className:"your-listing_"},u.a.createElement("ul",{className:"list-unstyled listing-all"},t))))),u.a.createElement("div",{className:"aside-main-content"},u.a.createElement("div",{className:"head-label"},u.a.createElement("h4",null,"Unlisted")),u.a.createElement("div",{className:"aside-main-cn"},u.a.createElement("div",{className:"your-listing_"},u.a.createElement("ul",{className:"list-unstyled listing-all"},[])))))}}]),a}(u.a.Component));a.default=h},394:function(e,a,t){},87:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(4),o=t(5),r=t(7),c=new(function(){function e(){Object(n.a)(this,e)}return Object(o.a)(e,[{key:"getContent",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/index"))}},{key:"getRoomList",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/getlistings"))}},{key:"getRoomData",value:function(e,a){return Object(r.d)("".concat(r.a,"/ba/api/set_baroomid?roomid=").concat(e,"&&ba_roomid=").concat(a))}},{key:"changeRoomState",value:function(e){return Object(r.e)("".concat(r.a,"/ajax/change_status_of_room"),e)}},{key:"getRoomReservation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?Object(r.d)("".concat(r.a,"/ajax/dashboard/my_reservations")+e):Object(r.d)("".concat(r.a,"/ajax/dashboard/my_reservations"))}},{key:"acceptReservation",value:function(e,a){return Object(r.e)("".concat(r.a,"/ajax/reservation/accept/").concat(e),a)}},{key:"declineReservation",value:function(e,a){return Object(r.e)("".concat(r.a,"/ajax/reservation/decline/").concat(e),a)}},{key:"getOldTripList",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/getOldTripsList"))}},{key:"geCurrTripList",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/getcurrentTripsList"))}},{key:"removeUserPhoneNubmer",value:function(e){return Object(r.e)("".concat(r.a,"/ajax/removeUserPhoneNumber"),e)}},{key:"saveUserProfile",value:function(e){return Object(r.e)("".concat(r.a,"/ajax/saveuserprofile"),e)}},{key:"uploadProfilePhoto",value:function(e){return Object(r.f)("".concat(r.a,"/ajax/profilepictureupload"),e)}},{key:"getVerification",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/getverifycation"))}},{key:"updateVerifyCode",value:function(e){return Object(r.e)("".concat(r.a,"/ajax/sendVerifyCode"),e)}},{key:"verifyPhoneNumber",value:function(e){return Object(r.e)("".concat(r.a,"/ajax/verifyPhoneNumber"),e)}},{key:"getBACredential",value:function(){return Object(r.d)("".concat(r.a,"/ba/account/get_ba_credential"))}},{key:"submitBAKeys",value:function(e){return Object(r.e)("".concat(r.a,"/ba/account/register"),e)}},{key:"updateBAKeys",value:function(){return Object(r.d)("".concat(r.a,"/ba/api/update"))}},{key:"getApiKey",value:function(){return Object(r.d)("".concat(r.a,"/ajax/dashboard/getapikeys"))}},{key:"generateApiKey",value:function(){return Object(r.e)("".concat(r.a,"/ajax/dashboard/generateapikeys"))}}]),e}())}}]);
//# sourceMappingURL=39.1aedf90b.chunk.js.map