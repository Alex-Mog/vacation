{"version":3,"sources":["pages/dashboard/DashboardContent.js","services/dashboard.jsx"],"names":["DashboardContent","props","state","user_info","first_name","last_name","page_data","pending_reservation_count","pending_reservations","pending_trip_count","upcoming_trip_count","current_trip_count","all_trip_count","upcoming_reservation_count","current_reservation_count","listing_count","pending_count","unreadmessagecount","messages","dashboardService","getContent","then","res","setState","data","pending_request_title","notification_title","className","this","src","profile_pic","alt","defaultActiveKey","transition","eventKey","title","length","map","reservation","index","message","key","width","height","userInfo","full_name","count","React","PureComponent","ajaxGet","API_HOST","id","ba_roomid","ajaxPost","req","ajaxPostForm"],"mappings":"4NAMMA,G,mBAEJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,CACXC,UAAW,CACTC,WAAY,WACZC,UAAW,IAGbC,UAAW,CACTC,0BAA2B,EAC3BC,qBAAsB,GAEtBC,mBAAoB,EACpBC,oBAAqB,EACrBC,mBAAoB,EACpBC,eAAgB,EAEhBC,2BAA4B,EAC5BC,0BAA2B,EAC3BC,cAAe,EACfC,cAAe,EACfC,mBAAoB,EACpBC,SAAU,KAtBG,E,iFA4BE,IAAD,OAClBC,IAAiBC,aAAaC,MAAK,SAAAC,GAC7BA,GACF,EAAKC,SAAS,CACZpB,UAAWmB,EAAInB,UACfG,UAAWgB,EAAIE,Y,+BAQrB,IAAMC,EACJ,gEAKIC,EACJ,8CAEE,0BAAMC,UAAU,oCAAoCC,KAAK1B,MAAMI,UAAUW,qBAI7E,OACE,yBAAKU,UAAU,YACb,yBAAKA,UAAU,sBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,cACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,gBACb,yBAAKE,IAAKD,KAAK1B,MAAMI,UAAUwB,YAAaH,UAAU,iBAAiBI,IAAI,cAG/E,yBAAKJ,UAAU,YACb,sCAAYC,KAAK1B,MAAMC,UAAUC,WAAjC,KACA,+CACA,iFAKR,yBAAKuB,UAAU,aACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAMK,iBAAiB,UAAUC,YAAY,GAC3C,kBAAC,IAAD,CAAKC,SAAS,UAAUC,MAAM,eAC5B,wBAAIR,UAAU,cACZ,wBAAIA,UAAU,qEAAd,uBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUC,4BAEvE,wBAAIoB,UAAU,qEAAd,wBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUO,6BAEvE,wBAAIc,UAAU,qEAAd,uBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUQ,4BAEvE,wBAAIa,UAAU,qEAAd,iBAEA,0BAAMA,UAAU,0BAA0BC,KAAK1B,MAAMI,UAAUS,kBAKnE,kBAAC,IAAD,CAAKmB,SAAS,QAAQC,MAAM,YAC1B,wBAAIR,UAAU,+BACZ,wBAAIA,UAAU,qEAAd,gBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUG,qBAEvE,wBAAIkB,UAAU,qEAAd,iBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUI,sBAEvE,wBAAIiB,UAAU,qEAAd,gBAEA,0BAAMA,UAAU,kCAAkCC,KAAK1B,MAAMI,UAAUK,qBAEvE,wBAAIgB,UAAU,qEAAd,iBAEA,0BAAMA,UAAU,0BAA0BC,KAAK1B,MAAMI,UAAUM,yBAU/E,yBAAKe,UAAU,sBACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,UACb,kBAAC,IAAD,CAAMK,iBAAiB,kBAAkBC,YAAY,GACnD,kBAAC,IAAD,CAAKC,SAAS,kBAAkBC,MAAOV,GACrC,yBAAKE,UAAU,WACb,4DACCC,KAAK1B,MAAMI,UAAUE,sBAA6E,IAArDoB,KAAK1B,MAAMI,UAAUE,qBAAqB4B,OAAe,wDAAmC,KACzIR,KAAK1B,MAAMI,UAAUE,sBACpBoB,KAAK1B,MAAMI,UAAUE,qBAAqB6B,KAAI,SAACC,EAAaC,GAC1D,OACE,wBAAIZ,UAAU,qEAAd,cAEA,0BAAMA,UAAU,yCAO1B,kBAAC,IAAD,CAAKO,SAAS,gBAAgBC,MAAOT,GACnC,yBAAKC,UAAU,WACb,6CACA,wBAAIA,UAAU,gCACbC,KAAK1B,MAAMI,UAAUY,UAAYU,KAAK1B,MAAMI,UAAUY,SAASmB,KAAI,SAACG,EAASD,GAC5E,OAAKC,EAAQA,QAEX,wBAAIb,UAAU,oEAAoEc,IAAKF,GACrF,yBAAKZ,UAAU,8BACb,yBAAKA,UAAU,qCACb,yBAAKe,MAAO,GAAIC,OAAQ,GAAIR,MAAM,eAAeN,IAAI,gIAAgIE,IAAI,kBAE3L,yBAAKJ,UAAU,UACb,yBAAKA,UAAU,eAAea,EAAQI,SAASC,WAC/C,6BACCL,EAAQA,QAAQA,QACjB,+BAIJ,0BAAMb,UAAU,iCAAiCa,EAAQM,QAfhC,mB,GAxJpBC,IAAMC,gBAsLtBhD,a,2FCtFFmB,EAAmB,I,qGA/F5B,OAAO8B,YAAQ,GAAD,OAAIC,IAAJ,4B,oCAOd,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,kC,kCAGJC,EAAIC,GACd,OAAOH,YAAQ,GAAD,OAAIC,IAAJ,uCAA2CC,EAA3C,uBAA4DC,M,sCAI5D5B,GACd,OAAO6B,YAAS,GAAD,OAAIH,IAAJ,+BAA2C1B,K,2CAG3B,IAAdA,EAAa,uDAAN,KACxB,OAAIA,EACKyB,YAAQ,UAAGC,IAAH,mCAA+C1B,GAEvDyB,YAAQ,GAAD,OAAIC,IAAJ,sC,wCAIAC,EAAI3B,GACpB,OAAO6B,YAAS,GAAD,OAAIH,IAAJ,oCAAwCC,GAAM3B,K,yCAG5C2B,EAAI3B,GACrB,OAAO6B,YAAS,GAAD,OAAIH,IAAJ,qCAAyCC,GAAM3B,K,uCAO9D,OAAOyB,YAAQ,GAAD,OAAIC,IAAJ,sC,uCAId,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,0C,4CAMMI,GACpB,OAAOD,YAAS,GAAD,OAAIH,IAAJ,+BAA2CI,K,sCAE5CA,GACd,OAAOD,YAAS,GAAD,OAAIH,IAAJ,yBAAqCI,K,yCAEnCA,GACjB,OAAOC,YAAa,GAAD,OAAIL,IAAJ,8BAA0CI,K,wCAG7D,OAAOL,YAAQ,GAAD,OAAIC,IAAJ,sC,uCAECI,GACf,OAAOD,YAAS,GAAD,OAAIH,IAAJ,wBAAoCI,K,wCAEnCA,GAChB,OAAOD,YAAS,GAAD,OAAIH,IAAJ,2BAAuCI,K,wCAOtD,OAAOL,YAAQ,GAAD,OAAIC,IAAJ,oC,mCAGHI,GACX,OAAOD,YAAS,GAAD,OAAIH,IAAJ,wBAAoCI,K,qCAInD,OAAOL,YAAQ,GAAD,OAAIC,IAAJ,qB,kCAOd,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,iC,uCAId,OAAOG,YAAS,GAAD,OAAIH,IAAJ,wC","file":"static/js/53.0ba6259c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Tabs, Tab } from \"react-bootstrap\";\r\n\r\nimport { dashboardService } from 'services/dashboard';\r\nimport 'assets/styles/pages/dashboard/dashboard.scss';\r\n\r\nclass DashboardContent extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user_info: {\r\n        first_name: 'Tourists',\r\n        last_name: ''\r\n      },\r\n\r\n      page_data: {\r\n        pending_reservation_count: 0,\r\n        pending_reservations: [],\r\n\r\n        pending_trip_count: 0,\r\n        upcoming_trip_count: 0,\r\n        current_trip_count: 0,\r\n        all_trip_count: 0,\r\n\r\n        upcoming_reservation_count: 0,\r\n        current_reservation_count: 0,\r\n        listing_count: 0,\r\n        pending_count: 0,\r\n        unreadmessagecount: 0,\r\n        messages: [],\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    dashboardService.getContent().then(res => {\r\n      if (res) {\r\n        this.setState({\r\n          user_info: res.user_info,\r\n          page_data: res.data\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n\r\n    const pending_request_title = (\r\n      <span>\r\n        Pending Requests and Inquiries\r\n      </span>\r\n    )\r\n\r\n    const notification_title = (\r\n      <span>\r\n        Notifications\r\n        <span className=\"badge badge-pill badge-secondary\">{this.state.page_data.unreadmessagecount}</span>\r\n      </span>\r\n    )\r\n\r\n    return (\r\n      <div className=\"contents\">\r\n        <div className=\"aside-main-content\">\r\n          <div className=\"side-cnt\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"pro-detial\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-md-2\">\r\n                      <div className=\"user-profile\">\r\n                        <img src={this.state.page_data.profile_pic} className=\"img-responsive\" alt=\"profile\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-8\">\r\n                      <h3>Hello, {this.state.user_info.first_name}!</h3>\r\n                      <span>Good Morning!</span>\r\n                      <p>Guess how many nights you've hosted this year?</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-12\">\r\n                <div className=\"profile-tab\">\r\n                  <Tabs defaultActiveKey=\"listing\" transition={false}>\r\n                    <Tab eventKey=\"listing\" title=\"My Listings\">\r\n                      <ul className=\"list-group\">\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Pending Reservations\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.pending_reservation_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Upcoming Reservations\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.upcoming_reservation_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Current Reservations\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.current_reservation_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Total Listings\r\n                        <span className=\"badge badge-pill no-pd\">{this.state.page_data.listing_count}</span>\r\n                        </li>\r\n                      </ul>\r\n                    </Tab>\r\n\r\n                    <Tab eventKey=\"trips\" title=\"My Trips\">\r\n                      <ul className=\"list-group list-group-flush\">\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Pending Trips\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.pending_trip_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Upcoming Trips\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.upcoming_trip_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Current Trips\r\n                        <span className=\"badge badge-primary badge-pill\">{this.state.page_data.current_trip_count}</span>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                          Total Listings\r\n                        <span className=\"badge badge-pill no-pd\">{this.state.page_data.all_trip_count}</span>\r\n                        </li>\r\n                      </ul>\r\n                    </Tab>\r\n                  </Tabs>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"aside-main-content\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <Tabs defaultActiveKey=\"pending-request\" transition={false}>\r\n                <Tab eventKey=\"pending-request\" title={pending_request_title}>\r\n                  <div className=\"content\">\r\n                    <h3>Recent Reservation and Trips</h3>\r\n                    {this.state.page_data.pending_reservations && this.state.page_data.pending_reservations.length === 0 ? <p>You have no reservations!</p> : null}\r\n                    {this.state.page_data.pending_reservations &&\r\n                      this.state.page_data.pending_reservations.map((reservation, index) => {\r\n                        return (\r\n                          <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                            Reservation\r\n                          <span className=\"badge badge-primary badge-pill\"></span>\r\n                          </li>\r\n                        )\r\n                      })}\r\n                  </div>\r\n                </Tab>\r\n\r\n                <Tab eventKey=\"notifications\" title={notification_title}>\r\n                  <div className=\"content\">\r\n                    <h3>Notification </h3>\r\n                    <ul className=\"list-group list-group-flush\" />\r\n                    {this.state.page_data.messages && this.state.page_data.messages.map((message, index) => {\r\n                      if (!message.message) return null;\r\n                      return (\r\n                        <li className=\"list-group-item d-flex justify-content-between align-items-center\" key={index}>\r\n                          <div className=\"media va-container reserve\">\r\n                            <div className=\"pull-left media-photo media-round\">\r\n                              <img width={50} height={50} title=\"Angie Calfee\" src=\"https://lh4.googleusercontent.com/-AeR3l9kUNTY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYcmOWYb7zFNYV1f0ceyRzs5elcKQ/mo/photo.jpg?sz=225\" alt=\"Angie Calfee\" />\r\n                            </div>\r\n                            <div className=\"va-top\">\r\n                              <div className=\"text-normal\">{message.userInfo.full_name}</div>\r\n                              <br />\r\n                              {message.message.message}\r\n                              <br />\r\n                              {/* {moment.utc(message.message.created_at).format(dateFormat)} */}\r\n                            </div>\r\n                          </div>\r\n                          <span className=\"badge badge-danger badge-pill\">{message.count}</span>\r\n                        </li>\r\n                      )\r\n                    })}\r\n                  </div>\r\n                </Tab>\r\n              </Tabs>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DashboardContent;","import {API_HOST, ajaxGet, ajaxPost, ajaxPostForm} from 'services/config';\r\n\r\nclass DashboardService {\r\n  /////////////////////////////////////////////////\r\n  // Dashboard Content\r\n  /////////////////////////////////////////////////\r\n  getContent() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/index`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Listings\r\n  /////////////////////////////////////////////////\r\n  getRoomList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getlistings`);\r\n  }\r\n\r\n  getRoomData(id, ba_roomid) {\r\n    return ajaxGet(`${API_HOST}/ba/api/set_baroomid?roomid=${id}&&ba_roomid=${ba_roomid}`);\r\n  }\r\n\r\n  // TODO: Add Data\r\n  changeRoomState(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/change_status_of_room`, data);\r\n  }\r\n\r\n  getRoomReservation(data = null) {\r\n    if (data) {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations` + data);\r\n    } else {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations`);\r\n    }\r\n  }\r\n\r\n  acceptReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/accept/${id}`, data);\r\n  }\r\n\r\n  declineReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/decline/${id}`, data);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Trips\r\n  /////////////////////////////////////////////////\r\n  getOldTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getOldTripsList`);\r\n  }\r\n\r\n  geCurrTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getcurrentTripsList`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Profile\r\n  /////////////////////////////////////////////////\r\n  removeUserPhoneNubmer(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/removeUserPhoneNumber`, req);\r\n  }\r\n  saveUserProfile(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/saveuserprofile`, req);\r\n  }\r\n  uploadProfilePhoto(req) {\r\n    return ajaxPostForm(`${API_HOST}/ajax/profilepictureupload`, req);\r\n  }\r\n  getVerification() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getverifycation`);\r\n  }\r\n  updateVerifyCode(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/sendVerifyCode`, req);\r\n  }\r\n  verifyPhoneNumber(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/verifyPhoneNumber`, req);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Booking Automation\r\n  /////////////////////////////////////////////////\r\n  getBACredential() {\r\n    return ajaxGet(`${API_HOST}/ba/account/get_ba_credential`);\r\n  }\r\n\r\n  submitBAKeys(req) {\r\n    return ajaxPost(`${API_HOST}/ba/account/register`, req);\r\n  }\r\n\r\n  updateBAKeys() {\r\n    return ajaxGet(`${API_HOST}/ba/api/update`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // API Keys\r\n  /////////////////////////////////////////////////\r\n  getApiKey() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getapikeys`);\r\n  }\r\n\r\n  generateApiKey() {\r\n    return ajaxPost(`${API_HOST}/ajax/dashboard/generateapikeys`);\r\n  }\r\n}\r\n\r\nexport const dashboardService = new DashboardService();"],"sourceRoot":""}