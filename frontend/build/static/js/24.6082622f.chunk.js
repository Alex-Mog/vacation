(this["webpackJsonpvocation-frontend"]=this["webpackJsonpvocation-frontend"]||[]).push([[24],{1194:function(e,t,a){e.exports=a.p+"static/media/home_marker.c4f9d730.png"},1195:function(e,t,a){},128:function(e,t,a){"use strict";var s=a(4),n=a(5),i=a(10),o=a(9),l=a(11),r=a(0),c=a.n(r),d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.descr,s=e.room_id,n=e.prev,i=e.next;return c.a.createElement("div",{className:"content_show"},c.a.createElement("div",{className:"content_showhead"},c.a.createElement("h1",null,t),c.a.createElement("p",null,a)),c.a.createElement("div",{className:"content_right"},n&&c.a.createElement("a",{href:"/rooms/manage/".concat(s,"/").concat(n),className:"right_save"},"Back"),i&&c.a.createElement("a",{href:"/rooms/manage/".concat(s,"/").concat(i),className:"right_save_continue ml-1"},"Next")))}}]),t}(c.a.Component);t.a=d},1281:function(e,t,a){"use strict";a.r(t);var s=a(4),n=a(5),i=a(10),o=a(9),l=a(11),r=a(0),c=a.n(r),d=a(128),m=a(151),h=a(3),p=a(6),u=a(24),g=a(1193),v=a.n(g),E=a(486),b=a(1194),_=a.n(b),f=a(89),y=a(7),N=a(15);v.a.setApiKey(y.b),v.a.enableDebug();var C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={location:0,address:{address_line_1:"",address_line_2:"",country:"",state:"",city:"",postal_code:"",latitude:"",longitude:""},visible_modal:!1,countries:[],location_step:0,refs:{map:void 0}},a.openEditModal=a.openEditModal.bind(Object(h.a)(a)),a.closeEditModal=a.closeEditModal.bind(Object(h.a)(a)),a.nextStep=a.nextStep.bind(Object(h.a)(a)),a.handeChangeAddress=a.handeChangeAddress.bind(Object(h.a)(a)),a.onMapMounted=a.onMapMounted.bind(Object(h.a)(a)),a.onCenterChanged=a.onCenterChanged.bind(Object(h.a)(a)),a.prevStep=a.prevStep.bind(Object(h.a)(a)),a.LocationVerified=a.LocationVerified.bind(Object(h.a)(a)),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.getLocation(this.props.room_id).then((function(t){t&&e.setState({location:Number(t.location),address:t.address,countries:t.countries})}))}},{key:"prevStep",value:function(){var e=this.state.location_step;this.setState({location_step:e-1})}},{key:"nextStep",value:function(){var e=this,t=this.state,a=t.location_step,s=t.address;if(0===a)if(s.postal_code){var n="".concat(s.address_line_1,", ").concat(s.city,", ").concat(s.state,", ").concat(s.country,", ").concat(s.postal_code);v.a.fromAddress(n).then((function(t){var n=t.results[0].geometry.location,i=n.lat,o=n.lng;s.latitude=i,s.longitude=o,e.setState({address:s,location_step:a+1})}),(function(e){console.error("geocode from address error.",e)}))}else N.a.showWarning("Please input Postal Code!");else this.setState({location_step:a+1})}},{key:"LocationVerified",value:function(){var e=this,t=this.state.address,a={country:t.country,address_line_1:t.address_line_1,address_line_2:t.address_line_2,city:t.city,state:t.state,postal_code:t.postal_code,latitude:t.latitude,longitude:t.longitude};f.a.saveLocation(this.props.room_id,JSON.stringify(a)).then((function(t){t?(e.setState({address:t,visible_modal:!1,location_step:0,location:1}),e.props.onUpdateSidebar(),N.a.showSuccess("Verify Location")):N.a.showError("Verify Location")}))}},{key:"closeEditModal",value:function(){this.setState({visible_modal:!1,location_step:0})}},{key:"openEditModal",value:function(){this.setState({visible_modal:!0})}},{key:"handeChangeAddress",value:function(e){var t=e.target.name,a=e.target.value,s=this.state.address;s[t]=a,this.setState({address:s})}},{key:"onMapMounted",value:function(e){var t=this.state.refs;t.map=e,this.setState({refs:t})}},{key:"onCenterChanged",value:function(){var e=this.state.refs.map.getCenter(),t=this.state.address;t.latitude=e.lat(),t.longitude=e.lng(),this.setState({address:t})}},{key:"render",value:function(){var e=this,t=this.state.countries.map((function(e){return c.a.createElement("option",{value:e.short_name,key:e.short_name},e.long_name)})),a="";return a=0===this.state.location_step?c.a.createElement("form",{id:"js-address-fields-form",name:"enter_address",className:"ng-pristine ng-valid"},c.a.createElement("div",{className:"row-space-1"},c.a.createElement("label",{htmlFor:"country"},"Country"),c.a.createElement("div",{id:"country-select"},c.a.createElement("div",{className:"select select-block"},c.a.createElement("select",{id:"country",name:"country_code",onChange:this.handeChangeAddress,value:this.state.address.country},t)))),c.a.createElement("div",{id:"localized-fields"},c.a.createElement("div",{className:"row-space-1"},c.a.createElement("label",{htmlFor:"address_line_1"},"Address Line 1"),c.a.createElement("input",{type:"text",placeholder:"House name/number + street/road",className:"focus",id:"address_line_1",name:"address_line_1",onChange:this.handeChangeAddress,value:this.state.address.address_line_1,autoComplete:"off"})),c.a.createElement("div",{className:"row-space-1",style:{display:"none"}},c.a.createElement("label",{htmlFor:"address_line_2"},"Address Line 2"),c.a.createElement("input",{type:"text",placeholder:"Apt., suite, building access code",className:"focus",id:"address_line_2",onChange:this.handeChangeAddress,value:this.state.address.address_line_2,name:"address_line_2"})),c.a.createElement("div",{className:"row-space-1"},c.a.createElement("label",{htmlFor:"city"},"City / Town / District"),c.a.createElement("input",{type:"text",className:"focus",id:"city",name:"city",onChange:this.handeChangeAddress,value:this.state.address.city})),c.a.createElement("div",{className:"row-space-1"},c.a.createElement("label",{htmlFor:"state"},"State / Province / County / Region"),c.a.createElement("input",{type:"text",className:"focus",id:"state",onChange:this.handeChangeAddress,value:this.state.address.state,name:"state"})),c.a.createElement("div",{className:"row-space-1"},c.a.createElement("label",{htmlFor:"postal_code"},"ZIP / Postal Code"),c.a.createElement("input",{type:"text",className:"focus",id:"postal_code",onChange:this.handeChangeAddress,value:this.state.address.postal_code,name:"postal_code"})))):1===this.state.location_step?c.a.createElement("div",{style:{height:"300px",width:"300px"}}," ",c.a.createElement(E.a,{onCenterChanged:this.onCenterChanged,onMapMounted:this.onMapMounted,lng:this.state.address.longitude,lat:this.state.address.latitude,isMarkerShown:!0,onBoundsChanged:console.log("Hello")})):c.a.createElement("address",{id:"address_view",style:{width:"300px"}},c.a.createElement("h5",{className:"address-line"},this.state.address.address_line_1),c.a.createElement("h5",{className:"address-line"},this.state.address.city),c.a.createElement("h5",{className:"address-line"},this.state.address.state),c.a.createElement("h5",{className:"address-line"},this.state.address.postal_code),c.a.createElement("h5",{className:"address-line"},this.state.address.latitude,", ",this.state.address.longitude)),c.a.createElement("div",{id:"js-location-container",className:"js-section list_hover clearfix"},c.a.createElement("div",{className:"location_left pull-left"},c.a.createElement("h4",null,"Address"),c.a.createElement("h6",null,"While guests can see approximately where your listing is located in search results, your exact address is private and will only be shown to guests after they book your listing."),c.a.createElement("div",{className:"location_address"},0===this.state.location?c.a.createElement("button",{id:"js-add-address",className:"btn custom_btn btn-large",onClick:this.openEditModal},"Add Address"):c.a.createElement("address",{id:"address_view"},c.a.createElement("h5",{className:"address-line mt-1"},this.state.address.address_line_1),c.a.createElement("h5",{className:"address-line mt-1"},this.state.address.city),c.a.createElement("h5",{className:"address-line mt-1"},this.state.address.state),c.a.createElement("h5",{className:"address-line mt-1"},this.state.address.postal_code)),c.a.createElement(u.a,{open:this.state.visible_modal,onClose:function(){return e.closeEditModal()},center:!0,styles:{modal:{padding:"0px"}}},c.a.createElement("div",{className:"panel ng-scope"},c.a.createElement("div",{className:"panel-header"},c.a.createElement(p.b,{"data-behavior":"modal-close",className:"modal-close",to:"#"}),c.a.createElement("div",{className:"h4 js-address-nav-heading"},"Enter Address",c.a.createElement("br",null),c.a.createElement("small",null,"What is your listing's address?"))),c.a.createElement("div",{className:"flash-container",id:"js-flash-error-clicked-frozen-field"}),c.a.createElement("div",{className:"panel-body",style:{minHeight:"300px"}},a),c.a.createElement("div",{className:"panel-footer"},c.a.createElement("div",{className:"force-oneline"},0===this.state.location_step?c.a.createElement("button",{"data-behavior":"modal-close",className:"btn js-secondary-btn",onClick:this.closeEditModal},"Cancel"):c.a.createElement("button",{"data-behavior":"modal-close",className:"btn js-secondary-btn",onClick:this.prevStep},"Prev"),2===this.state.location_step?c.a.createElement("button",{id:"js-next-btn",className:"btn btn-primary js-next-btn",onClick:this.LocationVerified},"Finish"):c.a.createElement("button",{id:"js-next-btn",className:"btn btn-primary js-next-btn",onClick:this.nextStep},"Next"))))),c.a.createElement(p.b,{to:"#",onClick:this.openEditModal,className:0===this.state.location?"js-edit-address-link edit-address-link hide":"js-edit-address-link edit-address-link"},"Edit Address"))),c.a.createElement("div",{className:"media-photo space-top-sm-3 address-static-map pull-right"},c.a.createElement("div",{className:"location-map-container-v2 empty-map"},1!==this.state.location?c.a.createElement("div",null):c.a.createElement("img",{src:"https://maps.googleapis.com/maps/api/staticmap?size=570x275&center=".concat(this.state.address.latitude,",").concat(this.state.address.longitude,"&zoom=16&maptype=roadmap&sensor=false&key=").concat(y.b),className:"w-100 h-100",alt:"map"})),c.a.createElement("img",{src:_.a,style:{width:"34px",position:"absolute",left:"50%",top:"calc(50% - 17px)",transform:"translate(-50%, -50%)"},alt:"map marker"})))}}]),t}(c.a.Component),j=a(98),k=a.n(j),x=(a(1195),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.match.params.room_id;return c.a.createElement("div",{className:"manage-listing-content-wrapper"},c.a.createElement("div",{className:"listing_whole col-md-9",id:"js-manage-listing-content"},c.a.createElement("div",{className:"common_listpage"},c.a.createElement(d.a,{title:"Set Your Listing Location",descr:"You\u2019re not only sharing your space, you\u2019re sharing your neighborhood. Travelers will use this information to find a place that\u2019s in the right spot.",prev:"description",next:"amenities",room_id:e}),c.a.createElement(C,{room_id:e,onUpdateSidebar:this.props.onUpdateSidebar}),c.a.createElement(m.a,{prev:"description",next:"amenities",room_id:e}))),c.a.createElement("div",{className:"col-md-3 col-sm-12 listing_desc location_desc"},c.a.createElement("div",{className:"manage_listing_left"},c.a.createElement("img",{src:k.a,className:"col-center",width:75,height:75,alt:"Property"}),c.a.createElement("div",{className:"amenities_about"},c.a.createElement("h4",null,"Location"),c.a.createElement("p",null,"Your exact address will only be shared with confirmed guests.")))))}}]),t}(c.a.Component));t.default=x},151:function(e,t,a){"use strict";var s=a(4),n=a(5),i=a(10),o=a(9),l=a(11),r=a(0),c=a.n(r),d=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.room_id,a=e.prev,s=e.next;return c.a.createElement("div",{className:"content_right"},a&&c.a.createElement("a",{href:"/rooms/manage/".concat(t,"/").concat(a),className:"right_save"},"Back"),s&&c.a.createElement("a",{href:"/rooms/manage/".concat(t,"/").concat(s),className:"right_save_continue"},"Next"))}}]),t}(c.a.Component);t.a=d},486:function(e,t,a){"use strict";var s=a(0),n=a.n(s),i=a(487),o=a(489),l=Object(i.a)(Object(i.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA34nBk3rPJKXaNQaSX4YiLFoabX3DhkXs&v=3.exp&libraries=geometry,drawing,places",loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"100%"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}})}),o.withScriptjs,o.withGoogleMap)((function(e){return n.a.createElement(o.GoogleMap,{defaultZoom:e.zoom?e.zoom:14,onBoundsChanged:e.onBoundsChanged,onCenterChanged:e.onCenterChanged,defaultCenter:{lat:e.lat,lng:e.lng},ref:e.onMapMounted,onZoomChanged:e.onCenterChanged},e.isMarkerShown&&n.a.createElement(o.Marker,{position:{lat:e.lat,lng:e.lng}}))}));t.a=l},98:function(e,t,a){e.exports=a.p+"static/media/property-help.1a8e1b11.png"}}]);
//# sourceMappingURL=24.6082622f.chunk.js.map