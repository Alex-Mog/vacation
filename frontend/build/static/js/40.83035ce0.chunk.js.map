{"version":3,"sources":["pages/dashboard/BookingAutomation/BAUpdate.jsx","services/dashboard.jsx"],"names":["BAUpdate","props","state","isUpdating","is_ba_memeber","credentials","onClickUpdate","bind","event","this","alertService","showError","setUpdateStatus","dashboardService","updateBAKeys","then","res","success","showSuccess","clearUpdateStatus","catch","error","setState","type","content","className","onClick","role","React","Component","ajaxGet","API_HOST","id","ba_roomid","data","ajaxPost","req","ajaxPostForm"],"mappings":"uNAMMA,G,mBACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAEDC,MAAQ,CACXC,YAAY,EACZC,eAAe,EACfC,YAAa,IAEf,EAAKC,cAAgB,EAAKA,cAAcC,KAAnB,gBARJ,E,2EAWLC,GAAQ,IAAD,OACfC,KAAKP,MAAMC,WACbO,IAAaC,UAAU,mBAAoB,KAG7CF,KAAKG,kBACLC,IAAiBC,eACdC,MAAK,SAAAC,IACgB,IAAhBA,EAAIC,QACNP,IAAaQ,YAAY,sBAAuB,iBAEhDR,IAAaC,UAAU,sBAAuB,gBAEhD,EAAKQ,uBAENC,OAAM,SAAAC,GACLX,IAAaC,UAAU,sBAAuB,gBAC9C,EAAKQ,0B,wCAITV,KAAKa,SAAS,CAAEnB,YAAY,M,0CAG5BM,KAAKa,SAAS,CAAEnB,YAAY,M,kCAElBoB,EAAMC,GACH,UAATD,GACFb,IAAaC,UAAU,sBAAuBa,GAEnC,YAATD,GACDb,IAAaQ,YAAY,sBAAuBM,K,+BAKnD,OACE,yBAAKC,UAAU,mDACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,iBACb,uBAAGA,UAAU,QAAb,2CAEF,yBAAKA,UAAU,aACf,4BAAQA,UAAU,qBAAqBC,QAASjB,KAAKH,eAArD,SAGKG,KAAKP,MAAMC,WACX,yBAAKsB,UAAU,iBAAiBE,KAAK,UAAS,0BAAMF,UAAU,WAAhB,eAC7C,Y,GA5DOG,IAAMC,YAqEd7B,a,iHC2BFa,EAAmB,I,qGA/F5B,OAAOiB,YAAQ,GAAD,OAAIC,IAAJ,4B,oCAOd,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,kC,kCAGJC,EAAIC,GACd,OAAOH,YAAQ,GAAD,OAAIC,IAAJ,uCAA2CC,EAA3C,uBAA4DC,M,sCAI5DC,GACd,OAAOC,YAAS,GAAD,OAAIJ,IAAJ,+BAA2CG,K,2CAG3B,IAAdA,EAAa,uDAAN,KACxB,OAAIA,EACKJ,YAAQ,UAAGC,IAAH,mCAA+CG,GAEvDJ,YAAQ,GAAD,OAAIC,IAAJ,sC,wCAIAC,EAAIE,GACpB,OAAOC,YAAS,GAAD,OAAIJ,IAAJ,oCAAwCC,GAAME,K,yCAG5CF,EAAIE,GACrB,OAAOC,YAAS,GAAD,OAAIJ,IAAJ,qCAAyCC,GAAME,K,uCAO9D,OAAOJ,YAAQ,GAAD,OAAIC,IAAJ,sC,uCAId,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,0C,4CAMMK,GACpB,OAAOD,YAAS,GAAD,OAAIJ,IAAJ,+BAA2CK,K,sCAE5CA,GACd,OAAOD,YAAS,GAAD,OAAIJ,IAAJ,yBAAqCK,K,yCAEnCA,GACjB,OAAOC,YAAa,GAAD,OAAIN,IAAJ,8BAA0CK,K,wCAG7D,OAAON,YAAQ,GAAD,OAAIC,IAAJ,sC,uCAECK,GACf,OAAOD,YAAS,GAAD,OAAIJ,IAAJ,wBAAoCK,K,wCAEnCA,GAChB,OAAOD,YAAS,GAAD,OAAIJ,IAAJ,2BAAuCK,K,wCAOtD,OAAON,YAAQ,GAAD,OAAIC,IAAJ,oC,mCAGHK,GACX,OAAOD,YAAS,GAAD,OAAIJ,IAAJ,wBAAoCK,K,qCAInD,OAAON,YAAQ,GAAD,OAAIC,IAAJ,qB,kCAOd,OAAOD,YAAQ,GAAD,OAAIC,IAAJ,iC,uCAId,OAAOI,YAAS,GAAD,OAAIJ,IAAJ,wC","file":"static/js/40.83035ce0.chunk.js","sourcesContent":["import React from 'react';\r\nimport { dashboardService } from 'services/dashboard';\r\nimport { alertService } from 'services/alert';\r\n\r\nimport 'assets/styles/pages/dashboard/bookingAutomation.scss';\r\n\r\nclass BAUpdate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isUpdating: false,\r\n      is_ba_memeber: false,\r\n      credentials: []\r\n    };\r\n    this.onClickUpdate = this.onClickUpdate.bind(this);\r\n  }\r\n\r\n  onClickUpdate(event) {\r\n    if (this.state.isUpdating) {\r\n      alertService.showError('Updating now ...', '');\r\n      return;\r\n    }\r\n    this.setUpdateStatus();\r\n    dashboardService.updateBAKeys()\r\n      .then(res => {\r\n        if (res.success === true) {\r\n          alertService.showSuccess('Update data from BA', 'Successfully!');\r\n        } else {\r\n          alertService.showError('Update data from BA', 'Not Success!');\r\n        }\r\n        this.clearUpdateStatus();\r\n      })\r\n      .catch(error => {\r\n        alertService.showError('Update data from BA', 'Not Success!');\r\n        this.clearUpdateStatus();\r\n      });\r\n  }\r\n  setUpdateStatus() {\r\n    this.setState({ isUpdating: true });\r\n  }\r\n  clearUpdateStatus() {\r\n    this.setState({ isUpdating: false });\r\n  }\r\n  showMessage(type, content) {\r\n    if (type === 'error') {\r\n      alertService.showError('Update data from BA', content);\r\n    }\r\n    if (type === 'success') {\r\n       alertService.showSuccess('Update data from BA', content);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ba-update ba-panel col-lg-8 col-md-11 col-sm-12\">\r\n        <div className=\"card p-5 mt-0\">\r\n          <div className=\"row title-bar\">\r\n            <p className=\"mt-0\"> Updated data from Booking Automation </p>\r\n          </div>\r\n          <div className=\"clearfix\" />\r\n          <button className=\"btn btn-info w-100\" onClick={this.onClickUpdate}>\r\n            Update\r\n             {\r\n              (this.state.isUpdating) ?\r\n              (<div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Loading...</span></div>)\r\n              : null\r\n            }\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BAUpdate;","import {API_HOST, ajaxGet, ajaxPost, ajaxPostForm} from 'services/config';\r\n\r\nclass DashboardService {\r\n  /////////////////////////////////////////////////\r\n  // Dashboard Content\r\n  /////////////////////////////////////////////////\r\n  getContent() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/index`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Listings\r\n  /////////////////////////////////////////////////\r\n  getRoomList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getlistings`);\r\n  }\r\n\r\n  getRoomData(id, ba_roomid) {\r\n    return ajaxGet(`${API_HOST}/ba/api/set_baroomid?roomid=${id}&&ba_roomid=${ba_roomid}`);\r\n  }\r\n\r\n  // TODO: Add Data\r\n  changeRoomState(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/change_status_of_room`, data);\r\n  }\r\n\r\n  getRoomReservation(data = null) {\r\n    if (data) {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations` + data);\r\n    } else {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations`);\r\n    }\r\n  }\r\n\r\n  acceptReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/accept/${id}`, data);\r\n  }\r\n\r\n  declineReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/decline/${id}`, data);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Trips\r\n  /////////////////////////////////////////////////\r\n  getOldTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getOldTripsList`);\r\n  }\r\n\r\n  geCurrTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getcurrentTripsList`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Profile\r\n  /////////////////////////////////////////////////\r\n  removeUserPhoneNubmer(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/removeUserPhoneNumber`, req);\r\n  }\r\n  saveUserProfile(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/saveuserprofile`, req);\r\n  }\r\n  uploadProfilePhoto(req) {\r\n    return ajaxPostForm(`${API_HOST}/ajax/profilepictureupload`, req);\r\n  }\r\n  getVerification() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getverifycation`);\r\n  }\r\n  updateVerifyCode(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/sendVerifyCode`, req);\r\n  }\r\n  verifyPhoneNumber(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/verifyPhoneNumber`, req);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Booking Automation\r\n  /////////////////////////////////////////////////\r\n  getBACredential() {\r\n    return ajaxGet(`${API_HOST}/ba/account/get_ba_credential`);\r\n  }\r\n\r\n  submitBAKeys(req) {\r\n    return ajaxPost(`${API_HOST}/ba/account/register`, req);\r\n  }\r\n\r\n  updateBAKeys() {\r\n    return ajaxGet(`${API_HOST}/ba/api/update`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // API Keys\r\n  /////////////////////////////////////////////////\r\n  getApiKey() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getapikeys`);\r\n  }\r\n\r\n  generateApiKey() {\r\n    return ajaxPost(`${API_HOST}/ajax/dashboard/generateapikeys`);\r\n  }\r\n}\r\n\r\nexport const dashboardService = new DashboardService();"],"sourceRoot":""}