{"version":3,"sources":["components/home/Picker.jsx","components/home/SearchBar.jsx","shared/ScriptCache.js"],"names":["now","moment","locale","utcOffset","Picker","props","state","hoverValue","latLng","lat","lng","onHoverChange","bind","this","setState","showValue","calendar","type","enUS","defaultValue","format","onChange","disabledDate","open","onOpenChange","minDate","value","className","placeholder","name","aria-label","readOnly","React","PureComponent","SearchBar","startValue","endValue","startOpen","endOpen","width","height","address","gmap_api_loaded","onStartOpenChange","onEndOpenChange","onStartChange","onEndChange","disabledStartDate","handleChange","handleSelect","window","requestAnimationFrame","ScriptCache","GOOGLE_MAP_KEY","onLoad","onLoaded","geocodeByAddress","then","results","getLatLng","catch","error","console","diff","date","selected_date","search_guest_options","i","push","key","method","action","id","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","autoComplete","label","required","autoFocus","style","position","paddingLeft","map","suggestion","active","backgroundColor","cursor","textAlign","paddingTop","padding","borderBottom","formattedSuggestion","mainText","secondaryText","length","alt","src","disableDate","aria-expanded","Component","scripts","loaded","failed","pending","load","success","reject","cb_success","cb_reject","forEach","loadSrc","indexOf","Promise","resolve","scriptTag","cb","body","document","getElementsByTagName","tag","createElement","async","addEventListener","evt","appendChild"],"mappings":"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","file":"static/js/52.008ba8a2.chunk.js","sourcesContent":["import React from 'react'\r\nimport RangeCalendar from 'rc-calendar/lib/RangeCalendar';\r\nimport DatePicker from 'rc-calendar/lib/Picker';\r\nimport enUS from 'rc-calendar/lib/locale/en_US';\r\nimport moment from 'moment';\r\nimport 'moment/locale/zh-cn';\r\nimport 'moment/locale/en-gb';\r\nimport 'rc-calendar/assets/index.css';\r\n\r\nconst format = 'MM-DD-YYYY';\r\nconst fullFormat = 'MM-DD-YYYY';\r\n\r\nconst now = moment();\r\nnow.locale('en-gb').utcOffset(0);\r\n\r\nclass Picker extends React.PureComponent {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\thoverValue: [],\r\n\t\t\tlatLng: { lat: 0, lng: 0 }\r\n\t\t};\r\n\t\tthis.onHoverChange = this.onHoverChange.bind(this)\r\n\t}\r\n\r\n\tonHoverChange(hoverValue) {\r\n\t\tthis.setState({ hoverValue });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst props = this.props;\r\n\t\tconst { showValue } = props;\r\n\t\tconst calendar = (\r\n\t\t\t<RangeCalendar\r\n\t\t\t\thoverValue={this.state.hoverValue}\r\n\t\t\t\tonHoverChange={this.onHoverChange}\r\n\t\t\t\ttype={this.props.type}\r\n\t\t\t\tlocale={enUS}\r\n\t\t\t\tdefaultValue={now}\r\n\t\t\t\tformat={format}\r\n\t\t\t\tonChange={props.onChange}\r\n\t\t\t\tdisabledDate={props.disabledDate}\r\n\t\t\t/>);\r\n\t\treturn (\r\n\t\t\t<DatePicker\r\n\t\t\t\topen={this.props.open}\r\n\t\t\t\tonOpenChange={this.props.onOpenChange}\r\n\t\t\t\tcalendar={calendar}\r\n\t\t\t\tminDate={moment()}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName={props.className}\r\n\t\t\t\t\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\t\t\t\t\tname={props.name}\r\n\t\t\t\t\t\t\t\tvalue={(showValue && showValue.format(fullFormat)) || ''}\r\n\t\t\t\t\t\t\t\taria-label=\"Date\"\r\n\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t</DatePicker>);\r\n    }\r\n\t}\r\n\t\r\n\texport default Picker;","import React from 'react'\r\nimport Picker from './Picker';\r\nimport PlacesAutocomplete, {\r\n    geocodeByAddress,\r\n    getLatLng,\r\n} from 'react-places-autocomplete';\r\nimport moment from 'moment';\r\nimport ScriptCache from 'shared/ScriptCache';\r\nimport {GOOGLE_MAP_KEY} from 'services/config';\r\n\r\nimport 'assets/styles/home/searchbar.scss';\r\n\r\nclass SearchBar extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      startValue: null,\r\n      endValue: null,\r\n      startOpen: false,\r\n      endOpen: false,\r\n      width: 0,\r\n      height: 0,\r\n\t\t\taddress: '',\r\n\t\t\tgmap_api_loaded: false\r\n\t\t}\r\n\t\t\r\n\t\tthis.onStartOpenChange = this.onStartOpenChange.bind(this)\r\n    this.onEndOpenChange = this.onEndOpenChange.bind(this)\r\n    this.onStartChange = this.onStartChange.bind(this)\r\n    this.onEndChange = this.onEndChange.bind(this)\r\n    this.disabledStartDate = this.disabledStartDate.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n\t\tthis.handleSelect = this.handleSelect.bind(this)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.requestAnimationFrame( () => {\r\n\t\t\tnew ScriptCache([`https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAP_KEY}&libraries=places`]).onLoad( ()=> {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgmap_api_loaded: true\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (this.props.onLoaded) {\r\n\t\t\t\t\tthis.props.onLoaded();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange(address) {\r\n    this.setState({ address });\r\n  };\r\n\r\n  handleSelect(address) {\r\n\r\n    geocodeByAddress(address)\r\n      .then(results => getLatLng(results[0]))\r\n      .then(latLng => {\r\n        this.setState({\r\n          latLng: latLng\r\n        })\r\n      })\r\n      .catch(error => console.error('Error', error));\r\n    this.setState({ address })\r\n  };\r\n  onStartOpenChange(startOpen) {\r\n    this.setState({\r\n      startOpen,\r\n    });\r\n  }\r\n\r\n  onEndOpenChange(endOpen) {\r\n    this.setState({\r\n      endOpen,\r\n    });\r\n  }\r\n\r\n  onStartChange(value) {\r\n    this.setState({\r\n      startValue: value[0],\r\n      startOpen: false,\r\n      endOpen: true,\r\n    });\r\n  }\r\n\r\n  onEndChange(value) {\r\n    this.setState({\r\n      endValue: value[1],\r\n    });\r\n\t}\r\n\t\r\n  disabledStartDate(endValue) {\r\n    if (!endValue) {\r\n      return false;\r\n    }\r\n    const startValue = this.state.startValue;\r\n    if (!startValue) {\r\n      return false;\r\n    }\r\n    return endValue.diff(startValue, 'days') < 0;\r\n\t}\r\n\t\t\r\n  disableDate(date) {\r\n    let selected_date = date;\r\n\r\n    let now = moment();\r\n\r\n    let diff_day = now.diff(selected_date, 'days');\r\n\r\n    if (diff_day > 0) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\t\r\n\trender() {\r\n\t\tconst state = this.state;\r\n\t\tlet search_guest_options = [];\r\n\t\tfor (let i = 1; i <= 30; i++) {\r\n\t\t\tsearch_guest_options.push(\r\n\t\t\t\ti < 30 ? <option value={i} key={i}> {i} Guest </option> : <option value={i} key={i}> {i}+ Guest </option>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t// <div id=\"searchbar\">\r\n\t\t\t\t<div className=\"searchbar rjsearchbar\">\r\n\t\t\t\t\t{\t\r\n\t\t\t\t\t\tthis.state.gmap_api_loaded && \r\n\t\t\t\t\t\t<form className=\"simple-search clearfix\" method=\"get\" action='/search' id=\"searchbar-form-main\" name=\"simple-search\">\r\n\t\t\t\t\t\t\t<div className=\"saved-search-wrapper searchbar__input-wrapper\">\r\n\t\t\t\t\t\t\t\t<PlacesAutocomplete\r\n\t\t\t\t\t\t\t\t\tvalue={this.state.address}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\tonSelect={this.handleSelect}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n\t\t\t\t\t\t\t\t\t\t<label className=\"input-placeholder-group searchbar__location\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input aria-label=\"city\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...getInputProps({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder: 'City, State, Property ID',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName: 'menu-autocomplete-input text-truncate form-inline location input-large input-contrast',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"locations\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"text\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: \"location\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoComplete: \"off\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel: \"Image\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"autocomplete-dropdown-container\" style={{ position: 'absolute', paddingLeft: '50px', width: '300px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{loading && <div>Loading...</div>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{suggestions.map(suggestion => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst className = suggestion.active\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'suggestion-item--active'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'suggestion-item';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// inline style for demonstration purpose\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst style = suggestion.active\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? { backgroundColor: '#fafafa', cursor: 'pointer', textAlign: 'left', paddingTop: '10px', padding: '10px', borderBottom: 'solid 1px gray' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: { backgroundColor: '#ffffff', cursor: 'pointer', textAlign: 'left', paddingTop: '10px', padding: '10px', borderBottom: 'solid 1px gray' };\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...getSuggestionItemProps(suggestion, {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span><i className='fa fa-map-marker'></i>&nbsp;&nbsp;{suggestion.formattedSuggestion.mainText}, <small>{suggestion.formattedSuggestion.secondaryText}</small></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{suggestions.length ? <div className='text-right'><img alt=\"scale to width\" src='https://vignette.wikia.nocookie.net/ichc-channel/images/7/70/Powered_by_google.png/revision/latest/scale-to-width-down/640?cb=20160331203712' width='50%' /></div> : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{/* custom render function */}\r\n\t\t\t\t\t\t\t\t</PlacesAutocomplete>\r\n\r\n\t\t\t\t\t\t\t\t<label className=\"input-placeholder-group searchbar__checkin\">\r\n\t\t\t\t\t\t\t\t\t<Picker\r\n\t\t\t\t\t\t\t\t\t\tonOpenChange={this.onStartOpenChange}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"start\"\r\n\t\t\t\t\t\t\t\t\t\tshowValue={state.startValue}\r\n\t\t\t\t\t\t\t\t\t\topen={this.state.startOpen}\r\n\t\t\t\t\t\t\t\t\t\tvalue={[state.startValue, state.endValue]}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onStartChange}\r\n\t\t\t\t\t\t\t\t\t\tdisabledDate={(date) => this.disableDate(date)}\r\n\t\t\t\t\t\t\t\t\t\tname='checkin'\r\n\t\t\t\t\t\t\t\t\t\tid=\"checkin\" className=\"checkin text-truncate input-large input-contrast ui-datepicker-target\" placeholder=\"Check In\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label className=\"input-placeholder-group searchbar__checkout\">\r\n\t\t\t\t\t\t\t\t\t<Picker\r\n\t\t\t\t\t\t\t\t\t\tonOpenChange={this.onEndOpenChange}\r\n\t\t\t\t\t\t\t\t\t\topen={this.state.endOpen}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"end\"\r\n\t\t\t\t\t\t\t\t\t\tshowValue={state.endValue}\r\n\t\t\t\t\t\t\t\t\t\tdisabledDate={this.disabledStartDate}\r\n\t\t\t\t\t\t\t\t\t\tvalue={[state.startValue, state.endValue]}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.onEndChange}\r\n\t\t\t\t\t\t\t\t\t\tname='checkout'\r\n\t\t\t\t\t\t\t\t\t\tid=\"checkout\" readOnly=\"readonly\" className=\"checkout input-large text-truncate input-contrast ui-datepicker-target\" placeholder=\"Check Out\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<label className=\"searchbar__guests\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"select select-large\">\r\n\t\t\t\t\t\t\t\t\t\t<select id=\"guests\" name=\"guests\" aria-label=\"Guest\">\r\n\t\t\t\t\t\t\t\t\t\t\t{search_guest_options}\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t<div id=\"autocomplete-menu-sbea76915\" aria-expanded=\"false\" className=\"menu hide\" >\r\n\t\t\t\t\t\t\t\t\t<div className=\"menu-section\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"source\" defaultValue=\"bb\" />\r\n\t\t\t\t\t\t\t<button id=\"submit_location\" type=\"submit\" className=\"searchbar__submit btn btn-primary btn-large\">Search</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t// </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default SearchBar;\r\n","class ScriptCache {\r\n  constructor(scripts) {\r\n    this.loaded = [];\r\n    this.failed = [];\r\n    this.pending = [];\r\n    this.load(scripts);\r\n  }\r\n\r\n  onLoad(success, reject) {\r\n    this.cb_success = success;\r\n    this.cb_reject = reject;\r\n  }\r\n\r\n  load(scripts) {\r\n    scripts.forEach( src => this.loadSrc(src) );\r\n  }\r\n\r\n  loadSrc(src) {\r\n    if (this.loaded.indexOf(src) >= 0) {\r\n      return Promise.resolve(src);\r\n    }\r\n\r\n    this.pending.push(src);\r\n    return this.scriptTag(src)\r\n      .then(() => {\r\n        if (this.cb_success) {\r\n          this.cb_success();\r\n        }\r\n      })\r\n      .catch(() => {\r\n        if (this.cb_reject) {\r\n          this.cb_reject();\r\n        }\r\n      })\r\n  }\r\n\r\n  scriptTag(src, cb) {\r\n    return new Promise((resolve, reject) => {\r\n      // let resolved = false,\r\n      //     errored = false;\r\n      let body = document.getElementsByTagName('body')[0],\r\n          tag = document.createElement('script');\r\n\r\n      tag.type = 'text/javascript';\r\n      tag.async = false; // Load in order\r\n\r\n      // const handleCallback = tag.onreadystatechange = function() {\r\n      //   if (resolved) return handleLoad();\r\n      //   if (errored) return handleReject();\r\n      //   const state = tag.readyState;\r\n      //   if (state === 'complete') {\r\n      //     handleLoad()\r\n      //   } else if (state === 'error') {\r\n      //     handleReject()\r\n      //   }\r\n      // }\r\n\r\n      const handleLoad = (evt) => { resolve(src); }\r\n      const handleReject = (evt) => { reject(src); }\r\n\r\n      tag.addEventListener('load', handleLoad);\r\n      tag.addEventListener('error', handleReject);\r\n      tag.src = src;\r\n      body.appendChild(tag);\r\n      return tag;\r\n    });\r\n  }\r\n}\r\n\r\nexport default ScriptCache;\r\n"],"sourceRoot":""}