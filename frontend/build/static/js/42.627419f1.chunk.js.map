{"version":3,"sources":["pages/dashboard/Profile/Photo.jsx","services/dashboard.jsx"],"names":["Photos","props","state","userinfo","first_name","last_name","page_data","uploadPhoto","bind","dashboardService","getContent","then","res","setState","user_info","data","alertService","showError","event","file","target","files","formData","FormData","append","name","uploadProfilePhoto","status","showSuccess","message","profile_pic","file_url","this","className","method","id","encType","src","alt","type","onChange","htmlFor","width","height","viewBox","xmlns","style","marginLeft","fill","d","React","Component","ajaxGet","API_HOST","ba_roomid","ajaxPost","req","ajaxPostForm"],"mappings":"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","file":"static/js/42.627419f1.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport { dashboardService } from 'services/dashboard';\r\nimport { alertService } from 'services/alert';\r\nimport 'assets/styles/pages/dashboard/profile-photo.scss';\r\n\r\nclass Photos extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tuserinfo: {\r\n\t\t\t\tfirst_name: '',\r\n\t\t\t\tlast_name: ''\r\n\t\t\t},\r\n\t\t\tpage_data: {}\r\n\r\n\t\t}\r\n\t\tthis.uploadPhoto = this.uploadPhoto.bind(this)\r\n\t}\r\n\t\r\n\tcomponentDidMount () {\r\n\t\tdashboardService.getContent().then(res => {\r\n\t\t\tif (res) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuserinfo: res.user_info,\r\n\t\t\t\t\tpage_data: res.data\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\talertService.showError('Get room information');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tuploadPhoto (event) {\r\n\t\tconst file = event.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('myFile', file, file.name);\r\n\t\tdashboardService.uploadProfilePhoto(formData).then(res => {\r\n\t\t\tif (res && res.status === 'success') {\r\n\t\t\t\talertService.showSuccess(res.message, '');\r\n\t\t\t\tlet { page_data } = this.state;\r\n\t\t\t\tpage_data.profile_pic = res.file_url;\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tpage_data: page_data\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\talertService.showError('Upload profile photo');\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\trender () {\r\n\t\tlet { page_data } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"col-md-12 m-0 p-0\">\r\n\t\t\t\t<div className=\"aside-main-content\">\r\n\t\t\t\t\t<div className=\"side-cnt\">\r\n\t\t\t\t\t\t<div className=\"head-label\">\r\n\t\t\t\t\t\t\t<h4>Profile Photo</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"aside-main-cn\">\r\n\t\t\t\t\t\t\t<div className=\"photo-profile_\">\r\n\t\t\t\t\t\t\t\t<div className=\"form-wrapper\">\r\n\t\t\t\t\t\t\t\t\t<form name=\"ajax_upload_form\" method=\"post\" id=\"ajax_upload_form\" className=\"form\" encType=\"multipart/form-data\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"user-profile\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img src={page_data.profile_pic} className=\"img-responsive\" alt=\"profile\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"small-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p>Part of the trust factor is clearly identifying who you are to\r\n\t\t\t\t\t\t\t\t\t\t\t\tyour guests. A clear photo of yourself is a great way to start\r\n                      the process</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"file\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"file\" name=\"file\" id=\"file\" onChange={this.uploadPhoto} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor=\"file\" className=\"btn btn-outline-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tUpload your image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <i className=\"far fa-image fa-2x\" /> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg width=\"28\" height=\"28\" viewBox=\"0 0 2048 1792\" xmlns=\"http://www.w3.org/2000/svg\" style={{marginLeft: '10px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<path fill=\"#23537a\" d=\"M704 576q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1024 384v448h-1408v-192l320-320 160 160 512-512zm96-704h-1600q-13 0-22.5 9.5t-9.5 22.5v1216q0 13 9.5 22.5t22.5 9.5h1600q13 0 22.5-9.5t9.5-22.5v-1216q0-13-9.5-22.5t-22.5-9.5zm160 32v1216q0 66-47 113t-113 47h-1600q-66 0-113-47t-47-113v-1216q0-66 47-113t113-47h1600q66 0 113 47t47 113z\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Photos;","import {API_HOST, ajaxGet, ajaxPost, ajaxPostForm} from 'services/config';\r\n\r\nclass DashboardService {\r\n  /////////////////////////////////////////////////\r\n  // Dashboard Content\r\n  /////////////////////////////////////////////////\r\n  getContent() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/index`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Listings\r\n  /////////////////////////////////////////////////\r\n  getRoomList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getlistings`);\r\n  }\r\n\r\n  getRoomData(id, ba_roomid) {\r\n    return ajaxGet(`${API_HOST}/ba/api/set_baroomid?roomid=${id}&&ba_roomid=${ba_roomid}`);\r\n  }\r\n\r\n  // TODO: Add Data\r\n  changeRoomState(data) {\r\n    return ajaxPost(`${API_HOST}/ajax/change_status_of_room`, data);\r\n  }\r\n\r\n  getRoomReservation(data = null) {\r\n    if (data) {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations` + data);\r\n    } else {\r\n      return ajaxGet(`${API_HOST}/ajax/dashboard/my_reservations`);\r\n    }\r\n  }\r\n\r\n  acceptReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/accept/${id}`, data);\r\n  }\r\n\r\n  declineReservation(id, data) {\r\n    return ajaxPost(`${API_HOST}/ajax/reservation/decline/${id}`, data);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Trips\r\n  /////////////////////////////////////////////////\r\n  getOldTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getOldTripsList`);\r\n  }\r\n\r\n  geCurrTripList() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getcurrentTripsList`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Profile\r\n  /////////////////////////////////////////////////\r\n  removeUserPhoneNubmer(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/removeUserPhoneNumber`, req);\r\n  }\r\n  saveUserProfile(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/saveuserprofile`, req);\r\n  }\r\n  uploadProfilePhoto(req) {\r\n    return ajaxPostForm(`${API_HOST}/ajax/profilepictureupload`, req);\r\n  }\r\n  getVerification() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getverifycation`);\r\n  }\r\n  updateVerifyCode(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/sendVerifyCode`, req);\r\n  }\r\n  verifyPhoneNumber(req) {\r\n    return ajaxPost(`${API_HOST}/ajax/verifyPhoneNumber`, req);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // Booking Automation\r\n  /////////////////////////////////////////////////\r\n  getBACredential() {\r\n    return ajaxGet(`${API_HOST}/ba/account/get_ba_credential`);\r\n  }\r\n\r\n  submitBAKeys(req) {\r\n    return ajaxPost(`${API_HOST}/ba/account/register`, req);\r\n  }\r\n\r\n  updateBAKeys() {\r\n    return ajaxGet(`${API_HOST}/ba/api/update`);\r\n  }\r\n\r\n  /////////////////////////////////////////////////\r\n  // API Keys\r\n  /////////////////////////////////////////////////\r\n  getApiKey() {\r\n    return ajaxGet(`${API_HOST}/ajax/dashboard/getapikeys`);\r\n  }\r\n\r\n  generateApiKey() {\r\n    return ajaxPost(`${API_HOST}/ajax/dashboard/generateapikeys`);\r\n  }\r\n}\r\n\r\nexport const dashboardService = new DashboardService();"],"sourceRoot":""}